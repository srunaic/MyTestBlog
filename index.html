<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script>
        // Emergency Debugger for Android/Older browsers
        window.onerror = function (msg, url, lineNo, columnNo, error) {
            var string = msg.toLowerCase();
            var message = [
                'Message: ' + msg,
                'URL: ' + url,
                'Line: ' + lineNo,
                'Column: ' + columnNo,
                'Error object: ' + JSON.stringify(error)
            ].join(' - ');
            alert("Error detected: " + message);
            return false;
        };
        window.onunhandledrejection = function (event) {
            alert("Promise Rejection: " + event.reason);
        };
    </script>

    <!-- SEO Meta Tags -->
    <title>ë‚˜ë…¸ ë„ë¡œì‹œ | Nanodoroshi Official Blog</title>
    <meta name="description" content="ë‚˜ë…¸ ë„ë¡œì‹œ(NanoDoroshi)ì˜ ê³µì‹ ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ë””ì§€í„¸ ì•„íŠ¸, AI ì—°êµ¬, ê·¸ë¦¬ê³  ì°½ì‘ì˜ ì—¬ì •ì„ ê¸°ë¡í•˜ëŠ” ì•„ì¹´ì´ë¸Œì…ë‹ˆë‹¤.">
    <meta name="keywords" content="ë‚˜ë…¸ë„ë¡œì‹œ, Nanodoroshi, Nano Dorothy, ë””ì§€í„¸ ì•„í‹°ìŠ¤íŠ¸, AI ì•„íŠ¸, AI ì—°êµ¬ì†Œ, ë¸”ë¡œê·¸, ì°½ì‘">
    <meta name="author" content="ë‚˜ë…¸ ë„ë¡œì‹œ">
    <meta name="google-site-verification" content="iUle41lbdKJbZm1snE_-KXGmvliLJErfOwRu63F3oL0" />
    <link rel="canonical" href="https://mytestblog-d85.pages.dev/">

    <!-- PWA & Mobile Meta Tags -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#050510">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Nanodoroshi">
    <link rel="apple-touch-icon" href="https://placehold.co/192x192/050510/00f2ff?text=N">
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Open Graph (Facebook, KakaoTalk, LinkedIn) -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://mytestblog-d85.pages.dev/">
    <meta property="og:title" content="ë‚˜ë…¸ ë„ë¡œì‹œ | Nanodoroshi">
    <meta property="og:description" content="ë””ì§€í„¸ ì•„í‹°ìŠ¤íŠ¸ & AI ì—°êµ¬ì†Œ. ë‚˜ë…¸ ë„ë¡œì‹œì˜ ê¸°ë¡ ë³´ê´€ì†Œì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤.">
    <meta property="og:image" content="https://mytestblog-d85.pages.dev/og-image.jpg">
    <!-- Ensure an image exists or replace later -->
    <meta property="og:site_name" content="ë‚˜ë…¸ ë„ë¡œì‹œ ë¸”ë¡œê·¸">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="ë‚˜ë…¸ ë„ë¡œì‹œ | Nanodoroshi">
    <meta name="twitter:description" content="ë””ì§€í„¸ ì•„í‹°ìŠ¤íŠ¸ ë‚˜ë…¸ ë„ë¡œì‹œì˜ ê³µì‹ ë¸”ë¡œê·¸ì…ë‹ˆë‹¤.">

    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "ë‚˜ë…¸ ë„ë¡œì‹œ",
      "alternateName": ["Nanodoroshi", "Nano Dorothy"],
      "url": "https://mytestblog-d85.pages.dev/",
      "sameAs": [
        "https://www.youtube.com/channel/UCAWWGP96WKyyLFT8nZni0hA",
        "https://chzzk.naver.com/c7294ac184f1bc7340375f3c2b2e8fd6"
      ],
      "jobTitle": "Digital Artist & AI Researcher",
      "description": "ì˜ˆìˆ ê³¼ AIì˜ ê²½ê³„ë¥¼ íƒêµ¬í•˜ëŠ” í¬ë¦¬ì—ì´í„°"
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "ë‚˜ë…¸ ë„ë¡œì‹œ ë¸”ë¡œê·¸",
      "url": "https://mytestblog-d85.pages.dev/",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://mytestblog-d85.pages.dev/?q={search_term_string}",
        "query-input": "required name=search_term_string"
      }
    }
    </script>

    <!-- Styles & Fonts -->
    <!-- Favicon bypass to prevent 404 -->
    <link rel="icon" href="data:,">
    <link rel="stylesheet" href="style.css?v=1.0.1">
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&family=Noto+Sans+KR:wght@300;400;700;900&display=swap"
        rel="stylesheet">

    <!-- Emergency Futuristic Overrides -->
    <style>
        /* 1. Admin Panel & Action Buttons */
        .action-link,
        #write-btn,
        .admin-box .action-link,
        #admin-only-actions .action-link {
            background: rgba(20, 20, 40, 0.8) !important;
            backdrop-filter: blur(15px) !important;
            border: 1px solid #00f2ff !important;
            color: #00f2ff !important;
            padding: 12px 25px !important;
            font-weight: 950 !important;
            letter-spacing: 2px !important;
            text-transform: uppercase !important;
            clip-path: polygon(10% 0%, 100% 0%, 90% 100%, 0% 100%) !important;
            box-shadow: 0 0 20px rgba(0, 242, 255, 0.2) !important;
            margin-bottom: 10px !important;
            transition: 0.4s !important;
            display: inline-block !important;
            cursor: pointer !important;
        }

        .action-link:hover,
        #write-btn:hover {
            background: #00f2ff !important;
            color: #050510 !important;
            box-shadow: 0 0 35px rgba(0, 242, 255, 0.5) !important;
            transform: translateY(-2px) !important;
        }

        /* 2. Admin & Social Inputs */
        .sidebar-section input,
        .social-links-manage input {
            background: rgba(255, 255, 255, 0.05) !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
            color: #e0e0ff !important;
            padding: 10px !important;
            font-size: 0.9rem !important;
        }

        /* 3. Link Add Button */
        #add-social-btn,
        .social-links-manage button {
            background: #00f2ff !important;
            color: #050510 !important;
            border: none !important;
            padding: 10px 20px !important;
            font-weight: 950 !important;
            clip-path: polygon(10% 0%, 100% 0%, 90% 100%, 0% 100%) !important;
            cursor: pointer !important;
        }

        /* 4. Edit/Delete Snippets */
        .list-admin-btn {
            background: rgba(40, 40, 80, 0.8) !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
            color: #e0e0ff !important;
            padding: 6px 14px !important;
            font-weight: 800 !important;
            font-size: 0.7rem !important;
            cursor: pointer !important;
        }

        .list-admin-btn.edit:hover {
            background: #00f2ff !important;
            color: #050510 !important;
        }

        .list-admin-btn.delete {
            color: #ff007a !important;
            border-color: rgba(255, 0, 122, 0.4) !important;
        }

        .list-admin-btn.delete:hover {
            background: #ff007a !important;
            color: #fff !important;
        }

        /* Server Maintenance & Update UI */
        #maintenance-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(5, 5, 16, 0.98);
            color: white;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 99999;
            text-align: center;
            font-family: 'Montserrat', sans-serif;
        }

        #maintenance-overlay h1 {
            color: #00f2ff;
            font-size: 2.5rem;
            margin-bottom: 20px;
            text-shadow: 0 0 20px rgba(0, 242, 255, 0.5);
        }

        #maintenance-overlay p {
            font-size: 1.1rem;
            opacity: 0.8;
            line-height: 1.6;
        }

        #update-notification {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: #ffb92f;
            color: black;
            padding: 15px 25px;
            border-radius: 12px;
            display: none;
            align-items: center;
            gap: 15px;
            z-index: 10002;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
            font-weight: bold;
            animation: slideUp 0.5s cubic-bezier(0.18, 0.89, 0.32, 1.28);
        }

        @keyframes slideUp {
            from {
                bottom: -100px;
                opacity: 0;
            }

            to {
                bottom: 80px;
                opacity: 1;
            }
        }

        #update-notification button {
            background: black;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            transition: 0.2s;
        }

        #update-notification button:hover {
            transform: scale(1.05);
            background: #333;
        }
    </style>
</head>

<body>
    <!-- Maintenance & Update UI -->
    <div id="maintenance-overlay">
        <h1>ğŸš§ SERVER MAINTENANCE</h1>
        <p>í˜„ì¬ ì„œë²„ ì ê²€ ì¤‘ì´ê±°ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì´ ì›í™œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br>ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.</p>
    </div>
    <div id="update-notification">
        <span>ìƒˆë¡œìš´ ì—…ë°ì´íŠ¸ê°€ ìˆìŠµë‹ˆë‹¤!</span>
        <button onclick="location.reload()">ì¬ì‹œì‘</button>
    </div>

    <div id="blog-container">
        <!-- Modern Header -->
        <header class="blog-header modern-header">
            <div class="header-content">
                <h1 class="header-title">NaNoDoroshi</h1>
                <p class="header-subtitle">ë””ì§€í„¸ ì•„í‹°ìŠ¤íŠ¸ & AI ì—°êµ¬ì†Œ</p>
                <div id="subscriber-stats" class="header-stats">
                    <span class="stats-label">SUBSCRIBERS:</span>
                    <span id="subscriber-count" class="stats-value">0</span>
                </div>
                <nav id="hero-nav" class="hero-nav">
                    <!-- Navigation links will be dynamically injected here -->
                </nav>
                <div class="header-settings" style="margin-left:auto; display:flex; align-items:center; gap:10px;">
                    <button id="notif-toggle-pc" class="notif-toggle-btn" onclick="toggleNotifSound()"
                        style="display:none;">ğŸ”” ON</button>
                </div>
            </div>
        </header>

        <div class="main-layout">
            <!-- Sidebar: Categories & Admin -->
            <aside class="sidebar">
                <div class="sidebar-section">
                    <h3>CATEGORIES</h3>
                    <ul id="category-list">
                        <!-- Categories rendered here -->
                    </ul>
                </div>

                <div id="admin-only-actions" class="sidebar-section admin-box" style="display:none;">
                    <h3>ADMIN PANEL</h3>
                    <button id="manage-cats-btn" class="sm-btn">ì¹´í…Œê³ ë¦¬ ê´€ë¦¬</button>
                    <div id="cat-mgr-section"
                        style="display:none; padding:10px; background:#f9f9f9; margin-top:10px; border-radius:10px;">
                        <input type="text" id="new-cat-name" placeholder="ì¹´í…Œê³ ë¦¬ëª…">
                        <button id="add-cat-btn" class="sm-btn-add">ì¶”ê°€</button>
                        <ul id="cat-mgr-list"></ul>
                    </div>
                    <button id="user-mgr-btn" class="sm-btn" style="display:none;">ì‚¬ìš©ì ê´€ë¦¬</button>

                    <div class="admin-divider" style="margin:20px 0; border-top:1px solid #333;"></div>
                    <h3 style="font-size:0.6rem; color:#555;">SOCIAL LINKS</h3>
                    <div class="social-mgr-form" style="margin-top:10px;">
                        <input type="text" id="new-link-name" placeholder="ì´ë¦„ (ì˜ˆ: INSTA)" class="admin-input">
                        <input type="text" id="new-link-url" placeholder="ì£¼ì†Œ (https://...)" class="admin-input">
                        <button onclick="addSocialLink()" class="sm-btn">ë§í¬ ì¶”ê°€</button>
                    </div>
                    <ul id="social-mgr-list" style="list-style:none; margin-top:15px; font-size:0.7rem;"></ul>

                    <div class="admin-divider" style="margin:20px 0; border-top:1px solid #333;"></div>
                    <h3 style="font-size:0.6rem; color:var(--futuristic-accent);">ORACLE INSIGHTS (AI LOGS)</h3>
                    <button onclick="toggleOracleInsights()" class="sm-btn"
                        style="background:rgba(0, 242, 255, 0.1); border:1px solid var(--futuristic-accent);">ì±—ë´‡ ë¡œê·¸
                        ë¶„ì„</button>
                    <div id="oracle-insights-view" style="display:none; margin-top:15px; font-size:0.7rem;">
                        <ul id="insights-list"
                            style="list-style:none; padding:0; height:200px; overflow-y:auto; border:1px solid var(--futuristic-border); border-radius:5px; padding:5px;">
                        </ul>
                    </div>
                </div>

            </aside>

            <!-- Main Content Area -->
            <main class="content-area">
                <div id="list-view">
                    <!-- BEST Posts -->
                    <div class="best-header">
                        <h2>BEST POSTS</h2>
                    </div>
                    <div id="best-grid" class="best-grid"></div>

                    <!-- All/Category Posts -->
                    <div class="list-header">
                        <h2>FEEDS</h2>
                        <div id="user-actions" style="display:none;">
                            <button id="new-post-btn" class="write-btn">ê¸€ì“°ê¸°</button>
                        </div>
                    </div>


                    <div id="blog-grid" class="blog-grid">
                        <!-- Posts rendered here -->
                    </div>

                    <!-- Pagination -->
                    <div id="pagination-container" class="pagination-container"></div>
                </div>

                <!-- Detail View -->
                <div id="detail-view" style="display:none;">
                    <button id="back-to-list" class="back-btn">â† ëª©ë¡ìœ¼ë¡œ</button>
                    <div id="post-detail-content" class="detail-container"></div>

                    <!-- Comment Section -->
                    <div id="comment-section" class="comment-section">
                        <h3>COMMENTS</h3>
                        <div id="comment-list" class="comment-list">
                            <!-- Comments rendered here -->
                        </div>

                        <div id="comment-form-area" class="comment-form-area" style="display:none;">
                            <div class="emoticon-picker" id="emoticon-picker">
                                <!-- Emoticons added here -->
                            </div>
                            <div class="comment-input-grid">
                                <textarea id="comment-input" placeholder="ëŒ“ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”..." rows="3"></textarea>
                                <button id="submit-comment-btn" class="sm-btn">ë“±ë¡</button>
                            </div>
                        </div>
                        <div id="comment-login-msg" style="text-align:center; padding:20px; color:#888;">
                            ëŒ“ê¸€ì„ ë‹¬ë ¤ë©´ <a href="javascript:void(0)" onclick="openAuthModal('login')">ë¡œê·¸ì¸</a>ì´ í•„ìš”í•©ë‹ˆë‹¤.
                        </div>
                    </div>
                </div>
            </main>

            <!-- Sidebar Right: BGM & Social -->
            <aside class="sidebar-right">
                <div class="sidebar-section music-box">
                    <h3>BGM PLAYER</h3>
                    <button id="bgm-toggle" class="bgm-btn">
                        <span id="bgm-status-text">MUSIC OFF</span>
                    </button>
                    <audio id="bgm-audio" loop>
                        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
                    </audio>
                </div>

                <div class="sidebar-section">
                    <h3>CONNECT</h3>
                    <div class="social-links" id="social-links-list">
                        <!-- Dynamically Rendered -->
                    </div>
                    <div class="special-links"
                        style="margin-top:20px; border-top:1px solid var(--futuristic-border); padding-top:15px;">
                        <a href="lotto.html" class="social-link-item"
                            style="color:var(--futuristic-accent); font-weight:950; text-decoration:none;">âœ¨ LOTTO
                            ORACLE</a>
                        <a href="javascript:void(0)" onclick="toggleChat()" class="social-link-item"
                            style="color:var(--futuristic-accent); font-weight:950; text-decoration:none; margin-top:10px; display:block;">ğŸ¤–
                            ORACLE AI HELP</a>
                    </div>
                </div>
            </aside>
        </div>
    </div>

    <!-- Modals -->
    <!-- 1. Post Modal -->
    <div id="post-modal" class="modal-overlay">
        <div class="modal-content">
            <h2 id="modal-title">NEW POST</h2>
            <form id="post-form">
                <input type="hidden" id="post-id">
                <div class="form-group">
                    <label>CATEGORY</label>
                    <select id="post-category"></select>
                </div>
                <div class="form-group">
                    <label>TITLE</label>
                    <input type="text" id="post-title" required placeholder="ì œëª©ì„ ê·¸ë ¤ë‚´ì„¸ìš”">
                </div>
                <div class="form-group">
                    <label>IMAGE (UPLOAD OR URL)</label>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <input type="text" id="post-img" placeholder="http://..." style="flex: 1;">
                        <button type="button" id="upload-post-img-btn" class="sm-btn"
                            style="white-space: nowrap; font-size: 0.7rem;">ì´ë¯¸ì§€ ì—…ë¡œë“œ</button>
                    </div>
                    <input type="file" id="post-file-input" accept="image/*" style="display:none;">
                </div>
                <div class="form-group">
                    <label>CONTENT</label>
                    <textarea id="post-content" required placeholder="ë‹¹ì‹ ì˜ í†µì°°ì„ ê³µìœ í•˜ì„¸ìš”" rows="8"></textarea>
                </div>
                <div class="modal-btns">
                    <button type="submit" class="submit-btn">PUBLISH</button>
                    <button type="button" id="close-modal" class="cancel-btn">CANCEL</button>
                </div>
            </form>
        </div>
    </div>

    <!-- 2. Auth Modal -->
    <div id="auth-modal" class="modal-overlay">
        <div class="modal-content auth-modal">
            <h2 id="auth-modal-title">ACCESS</h2>
            <form id="auth-form">
                <div class="form-group">
                    <label>ID</label>
                    <input type="text" id="auth-username" required placeholder="Username">
                </div>
                <div class="form-group">
                    <label>PASSWORD</label>
                    <input type="password" id="auth-password" required placeholder="Secret Key">
                </div>
                <div id="signup-nickname-group" class="form-group" style="display:none;">
                    <label>NICKNAME</label>
                    <input type="text" id="auth-nickname" placeholder="Public Name">
                </div>
                <div class="modal-btns">
                    <button type="submit" id="auth-submit-btn" class="submit-btn full">ENTER</button>
                    <div class="auth-switch">
                        <span id="auth-switch-text">ê³„ì •ì´ ì—†ìœ¼ì‹ ê°€ìš”?</span>
                        <a href="javascript:void(0)" id="auth-switch-link" onclick="toggleAuthMode()">íšŒì›ê°€ì…</a>
                    </div>
                    <!-- [NEW] Account Recovery Links -->
                    <div class="recovery-links"
                        style="margin-top: 10px; font-size: 0.8rem; text-align: center; opacity: 0.7;">
                        <a href="javascript:void(0)" onclick="openRecoveryModal('id')"
                            style="color: var(--futuristic-accent); text-decoration: none; margin-right: 15px;">ì•„ì´ë””
                            ì°¾ê¸°</a>
                        <a href="javascript:void(0)" onclick="openRecoveryModal('pw')"
                            style="color: var(--futuristic-accent); text-decoration: none;">ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°</a>
                    </div>
                    <button type="button" class="cancel-btn full" onclick="closeAuthModal()"
                        style="margin-top: 20px;">CLOSE</button>
                </div>
            </form>
        </div>
    </div>

    <!-- 3. Account Modal -->
    <div id="account-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>PROFILE</h2>
            <form id="account-form">
                <div class="form-group">
                    <label>NICKNAME</label>
                    <input type="text" id="acc-nickname" required>
                </div>
                <div class="form-group">
                    <label>ID</label>
                    <input type="text" id="acc-username" required>
                </div>
                <div class="form-group">
                    <label>PASSWORD (8+ CHARS)</label>
                    <input type="password" id="acc-password" required minlength="8">
                </div>
                <div class="form-group">
                    <label>PROFILE IMAGE</label>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <input type="url" id="acc-avatar-url" placeholder="https://..." style="flex: 1;">
                        <button type="button" id="upload-acc-avatar-btn" class="sm-btn"
                            style="white-space: nowrap; font-size: 0.7rem;">ì´ë¯¸ì§€ ì—…ë¡œë“œ</button>
                    </div>
                    <input type="file" id="acc-avatar-file-input" accept="image/*" style="display:none;">
                </div>
                <div class="modal-btns">
                    <button type="submit" class="submit-btn">UPDATE</button>
                    <button type="button" class="cancel-btn" onclick="closeAccountModal()">CLOSE</button>
                </div>
            </form>

            <div class="account-activity" style="margin-top:30px;">
                <div class="activity-tabs">
                    <button class="tab-btn active" data-tab="my-posts">ë‚´ê°€ ì“´ ê¸€</button>
                    <button class="tab-btn" data-tab="my-comments">ëŒ“ê¸€ ë‹¨ ê¸€</button>
                </div>
                <div id="activity-content" class="activity-content">
                    <!-- Activity items rendered here -->
                </div>
            </div>
        </div>
    </div>
    <!-- 4. Recovery Modal [NEW] -->
    <div id="recovery-modal" class="modal-overlay">
        <div class="modal-content auth-modal">
            <h2 id="recovery-modal-title">ACCOUNT RECOVERY</h2>
            <form id="recovery-form">
                <div class="form-group" id="recovery-nickname-group">
                    <label>NICKNAME</label>
                    <input type="text" id="recovery-nickname" required placeholder="ê°€ì… ì‹œ ì…ë ¥í•œ ë‹‰ë„¤ì„">
                </div>
                <div class="form-group" id="recovery-username-group" style="display:none;">
                    <label>ID</label>
                    <input type="text" id="recovery-username" placeholder="ê°€ì… ì‹œ ì…ë ¥í•œ ì•„ì´ë””">
                </div>
                <div id="recovery-result"
                    style="margin: 15px 0; padding: 10px; background: rgba(0,242,255,0.1); border-radius: 5px; display: none; text-align: center; color: #00f2ff; word-break: break-all;">
                </div>
                <div class="modal-btns">
                    <button type="submit" id="recovery-submit-btn" class="submit-btn full">SEARCH</button>
                    <button type="button" class="cancel-btn full" onclick="closeRecoveryModal()"
                        style="margin-top: 10px;">CLOSE</button>
                </div>
            </form>
        </div>
    </div>
    <!-- 3. Chatbot UI -->
    <div id="chatbot-container">
        <div id="chatbot-window" class="chatbot-window">
            <div class="chat-header">
                <span>ORACLE HELP AI</span>
                <button id="close-chat">âœ•</button>
            </div>
            <div id="chat-body" class="chat-body">
                <div class="chat-msg bot-msg">ì‹œìŠ¤í…œì— ì ‘ì†ë˜ì—ˆìŠµë‹ˆë‹¤. ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?</div>
            </div>
            <div class="chat-input-area">
                <input type="text" id="chat-input" placeholder="ì§ˆë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”...">
            </div>
        </div>
        <button id="chat-toggle-btn" class="chat-toggle-btn">
            <svg viewBox="0 0 24 24" width="24" height="24">
                <path fill="currentColor"
                    d="M12 2C6.47 2 2 6.47 2 12c0 1.91.54 3.68 1.46 5.19L2 22l4.81-1.46C8.32 21.46 10.09 22 12 22c5.53 0 10-4.47 10-10S17.53 2 12 2zm0 18c-1.74 0-3.32-.47-4.66-1.29l-.34-.21-2.94.89.89-2.94-.21-.34C3.87 14.72 3.4 13.14 3.4 11.4c0-4.74 3.86-8.6 8.6-8.6s8.6 3.86 8.6 8.6-3.86 8.6-8.6 8.6z" />
            </svg>
        </button>

        <!-- Layout Switcher & More Settings -->
        <div id="layout-switcher" class="layout-switcher">
            <button id="force-pc-btn" class="switch-btn">ğŸ–¥ï¸ PC ë²„ì „</button>
            <button id="force-mobile-btn" class="switch-btn active">ğŸ“± ëª¨ë°”ì¼ ë²„ì „</button>
            <button id="mobile-more-btn" class="switch-btn" onclick="toggleMobileMore()">âš™ï¸ ë”ë³´ê¸°</button>
        </div>

        <!-- Mobile More Menu Overlay -->
        <div id="mobile-more-menu" class="mobile-more-overlay" style="display:none;" onclick="toggleMobileMore()">
            <div class="mobile-more-content" onclick="event.stopPropagation()">
                <h3>SETTINGS</h3>
                <div class="mobile-more-item">
                    <span>ì•Œë¦¼ ì†Œë¦¬</span>
                    <button onclick="toggleNotifSound()" class="notif-toggle-btn">ğŸ”” ON</button>
                </div>
                <button class="mobile-more-close" onclick="toggleMobileMore()">CLOSE</button>
            </div>
        </div>
    </div>

    <!-- Real-time Notification UI -->
    <div id="notif-badge" class="notif-badge" onclick="clearNotifications()">
        <span class="notif-icon">ğŸ””</span>
        <span id="notif-count-display" class="notif-count" style="display:none;">0</span>
    </div>
    <audio id="notif-sound" src="https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3"
        preload="auto"></audio>

    <script type="module" src="script.js?v=1.1.0"></script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then(reg => console.log('SW Registered!', reg))
                    .catch(err => console.log('SW Registration Failed:', err));
            });
        }
    </script>
</body>

</html>
const a0_0x749b8f=a0_0x3bff;(function(_0x1684d7,_0xd845b3){const _0x4c78d2=a0_0x3bff,_0x329155=_0x1684d7();while(!![]){try{const _0x259187=parseInt(_0x4c78d2(0x14c))/0x1+-parseInt(_0x4c78d2(0x1ef))/0x2*(-parseInt(_0x4c78d2(0x1aa))/0x3)+-parseInt(_0x4c78d2(0x23d))/0x4+parseInt(_0x4c78d2(0x19d))/0x5*(parseInt(_0x4c78d2(0x1a4))/0x6)+parseInt(_0x4c78d2(0x195))/0x7+-parseInt(_0x4c78d2(0x1b5))/0x8*(-parseInt(_0x4c78d2(0x155))/0x9)+parseInt(_0x4c78d2(0x1c2))/0xa*(-parseInt(_0x4c78d2(0x242))/0xb);if(_0x259187===_0xd845b3)break;else _0x329155['push'](_0x329155['shift']());}catch(_0x9956d9){_0x329155['push'](_0x329155['shift']());}}}(a0_0x210f,0xc7539));function a0_0x3bff(_0x16f0c,_0x1d6a66){_0x16f0c=_0x16f0c-0xe3;const _0x210f0b=a0_0x210f();let _0x3bff8c=_0x210f0b[_0x16f0c];return _0x3bff8c;}import{createClient}from'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';const SUPABASE_URL='VITE_SUPABASE_URL',SUPABASE_KEY=a0_0x749b8f(0x143),SESSION_KEY=a0_0x749b8f(0x203),CATEGORY_NAMES={'notice':'üì¢\x20Í≥µÏßÄÏÇ¨Ìï≠','chat':a0_0x749b8f(0x1cf),'karaoke':a0_0x749b8f(0x1da),'voice':a0_0x749b8f(0x225),'game':a0_0x749b8f(0x134)},formatDistanceToNow=_0x17f6af=>{const _0x1ca20c=a0_0x749b8f;if(!_0x17f6af)return _0x1ca20c(0x15b);const _0xb6f35b=new Date(),_0x4a7e12=Math['floor']((_0xb6f35b-new Date(_0x17f6af))/0x3e8);if(_0x4a7e12<0x3c)return _0x1ca20c(0x199);if(_0x4a7e12<0xe10)return Math[_0x1ca20c(0x12c)](_0x4a7e12/0x3c)+'Î∂Ñ\x20Ï†Ñ';if(_0x4a7e12<0x15180)return Math['floor'](_0x4a7e12/0xe10)+'ÏãúÍ∞Ñ\x20Ï†Ñ';if(_0x4a7e12<0x278d00)return Math['floor'](_0x4a7e12/0x15180)+'Ïùº\x20Ï†Ñ';return _0x1ca20c(0x15a);};class Channel{constructor(_0x1c8003){const _0x466cbc=a0_0x749b8f;this['id']=_0x1c8003['id']||_0x1c8003[_0x466cbc(0x1f7)],this['name']=_0x1c8003[_0x466cbc(0x190)],this['type']=_0x1c8003[_0x466cbc(0x1e7)]||'general',this[_0x466cbc(0x1a6)]=_0x1c8003[_0x466cbc(0x1a6)]||_0x466cbc(0x227),this['password']=_0x1c8003[_0x466cbc(0x1b9)]||null,this[_0x466cbc(0x113)]=_0x1c8003[_0x466cbc(0x113)]||null,this[_0x466cbc(0x12a)]=_0x1c8003[_0x466cbc(0x12a)]||0x0;}[a0_0x749b8f(0x106)](){const _0x82e6c2=a0_0x749b8f,_0x3c5e62=this[_0x82e6c2(0x1e7)]===_0x82e6c2(0x216)?'üîí':'#',_0x4a2dd0=CATEGORY_NAMES[this[_0x82e6c2(0x1a6)]]||'üí¨\x20Ï±ÑÌåÖÎ∞©';return _0x82e6c2(0x102)+_0x3c5e62+_0x82e6c2(0x228)+this[_0x82e6c2(0x190)]+_0x82e6c2(0x139)+_0x4a2dd0+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}['renderSidebarItem'](_0x3840c1,_0x591f7a){const _0x56b99e=a0_0x749b8f,_0x14a1d3=this[_0x56b99e(0x1e7)]===_0x56b99e(0x216)?'üîí':'#',_0x2a27bc=CATEGORY_NAMES[this[_0x56b99e(0x1a6)]]||'üí¨\x20Ï±ÑÌåÖÎ∞©',_0x473647=_0x591f7a?_0x56b99e(0x21f)+this['id']+'\x22\x20onclick=\x22event.stopPropagation();\x20window.app.deleteChannel(\x27'+this['id']+_0x56b99e(0x1d8):'';return _0x56b99e(0x13e)+(_0x3840c1?_0x56b99e(0x240):'')+_0x56b99e(0x137)+_0x14a1d3+'\x20'+this[_0x56b99e(0x190)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x473647+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22channel-sub-link\x22\x20data-id=\x22'+this['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22sub-link-icon\x22>'+_0x2a27bc+_0x56b99e(0x1c3);}[a0_0x749b8f(0xf9)](){const _0x3aa18b=a0_0x749b8f;return'#'+this[_0x3aa18b(0x190)]+_0x3aa18b(0x223);}}function a0_0x210f(){const _0xd8f0c9=['anticode_friends','password-entry-modal','innerText','appendChild','storage','name','handleChannelSwitch','menu-members','queueMessage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','9113762CWsbjw','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setupSubscriptions','then','Î∞©Í∏à\x20Ï†Ñ','sentMessageCache','tempId','map','5665hZxKwm','removeAttribute','member-list','edit-avatar-url','online','uploadFile','upsert','8514tchMRD','target','category','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22group-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22group-label\x22>','addEventListener','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22status-indicator\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22friend-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22friend-nickname\x22>','102YRHDfu','channel_','updateBadge','forEach','clearNotifications','author','role','edit-nickname','close-settings-modal','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','currentTime','9368WhxJMn','app-settings-modal','open','boolean','password','ÏÇ¨Ïö©ÏûêÎ•º\x20Ï∞æÏùÑ\x20Ïàò\x20ÏóÜÏäµÎãàÎã§.','flex','\x22\x20class=\x22avatar-img\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','categorized-channels','AntiCode\x20Feature\x20App\x20initializing...','onchange','general','10WZgClK','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20append\x20message:','length','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22member-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22member-name-text\x22>','classList','password-field-group','processQueue','menu-delete-channel','getElementById','post-update','userRequestCache','isAdminMode','üí¨\x20Ï±ÑÌåÖÎ∞©','\x20<span\x20class=\x22friend-badge\x22>[ÏπúÍµ¨]</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22member-status-sub\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22avatar-sm\x22\x20style=\x22','send','processedMessageIds','notif-posts-ac','postgres_changes','</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-avatar\x22\x20style=\x22width:100%;\x20height:100%;\x20display:','\x27)\x22\x20title=\x22Ï±ÑÎÑê\x20ÏÇ≠Ï†ú\x22>&times;</button>','.sending-status','üé§\x20ÎÖ∏ÎûòÎ∞©','Ïù¥ÎØ∏ÏßÄ\x20ÏóÖÎ°úÎìú\x20Ïã§Ìå®:\x20','Ï†ïÎßêÎ°ú\x20Ïù¥\x20Ï±ÑÎÑêÏùÑ\x20ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?\x20Ï±ÑÎÑêÏùò\x20Î™®Îì†\x20Î©îÏãúÏßÄ\x20Í∏∞Î°ùÏù¥\x20ÏòÅÍµ¨Ï†ÅÏúºÎ°ú\x20ÏÇ≠Ï†úÎê©ÎãàÎã§.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:flex;\x20align-items:center;\x20gap:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin','chat-input','switchChannel','ÏùºÏÉÅ-Ï±ÑÌåÖ','stopPropagation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20friend_username,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20friend_info:anticode_users!anticode_friends_friend_username_fkey\x20(username,\x20nickname,\x20uid,\x20avatar_url)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','userCache','open-settings-btn','open-create-channel','type','Error\x20processing\x20message\x20in\x20queue:','ÏÇ≠Ï†úÏóê\x20Ïã§Ìå®ÌñàÏäµÎãàÎã§:\x20','syncUserMetadata','toggleNotifSound','friend_info','emoji-picker','posts','24686ZHPBai','payload','broadcast','new','updateButtons','image_url','parse','profile-modal','channel_id','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22timestamp\x22>','\x20<span\x20class=\x22sending-status\x22>',';\x20align-items:center;\x20justify-content:center;\x20background:var(--accent-glow);\x20color:var(--accent);\x20border-radius:50%;\x20font-weight:bold;\x22>','isSoundOn','<span\x20class=\x22friend-badge\x22>[ÏπúÍµ¨]</span>','<img\x20src=\x22','isProcessingQueue','\x22\x20class=\x22avatar-sm\x22\x20onerror=\x22this.onerror=null;\x20this.src=\x27\x27;\x20this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27flex\x27\x22>','updateProfile','2-digit','getAuth','nano_dorothy_session','shift','friend_username','add','renderSidebarItem','anticode_channels','create-channel-modal','placeholder','friend-list','querySelector','uid','emoji-btn','init','style','friends','app','entry-password-input','innerHTML','Upload\x20error:','secret','trim','clipboard','initialized','nickname,\x20avatar_url','notif-toggle-settings','pop','new-channel-name','send-msg-btn','<button\x20class=\x22delete-channel-btn\x22\x20data-id=\x22','sync','addFriendByUID','avatar_url','\x20Ïóê\x20Î©îÏãúÏßÄ\x20Î≥¥ÎÇ¥Í∏∞','lastSeenInterval','üìû\x20Î≥¥Ïù¥Ïä§\x20ÌÜ°','writeText','chat','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22header-title-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20id=\x22current-channel-name\x22>','renderFriends','channels','message','\x20<small>#','last_seen','üîï\x20OFF','from','insert','shiftKey','catch','toggle','.anticode-sidebar','.emoji-item','loadMessages','message-item','ÎπÑÎ∞Ä\x20Ïã§ÌóòÏã§','comment','playSound','new-channel-type','message-container','4047116jNADpN','Failed\x20to\x20update\x20last_seen:','deleteChannel','active','files','51310622SBOvnN','username','ÏûêÍ∏∞\x20ÏûêÏã†ÏùÄ\x20ÏπúÍµ¨Î°ú\x20Ï∂îÍ∞ÄÌï†\x20Ïàò\x20ÏóÜÏäµÎãàÎã§.','renderUserInfo','nickname','height','offline','new-channel-password','\x22\x20class=\x22chat-img\x22\x20onclick=\x22window.open(\x27','chat-file-input','block','99+','setAttribute','attach-btn','profile-form','getItem','uploads','notif-sound','üîî\x20ON','now','single','close-profile-modal','renderChannels','getPlaceholder','expiresAt','update','notif-badge','string','channel-group','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22avatar-sm-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-username=\x22','select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22header-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22channel-hash\x22>','.uid-copy-btn','user_username','current-user-info','renderHeader','grid','create-channel-form','oninput','filter','onsubmit','dataset','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22member-card\x20offline\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22avatar-wrapper\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','activeChannel','split','user_id','currentUser','chat-notif-ac','owner_id','setupMessageSubscription','close-password-modal','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','anticode_messages','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','substring','setItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li\x20class=\x22view-all-friends\x22\x20onclick=\x22document.getElementById(\x27friend-modal\x27).style.display=\x27flex\x27\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ÏπúÍµ¨\x20Îçî\x20Î≥¥Í∏∞...\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','content','ÌååÏùº\x20ÏÑ†ÌÉù','367912','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22avatar-sm\x22\x20style=\x22','supabase','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Subscribing\x20to\x20real-time\x20messages\x20for\x20channel:\x20','0.7','sendMessage','finalizeOptimistic','Failed\x20to\x20send\x20message:','notif-count-display','.anticode-members','button','order','notif-comments-ac','floor','includes','display:none;','presenceChannel','Enter','nano_notif_sound','INSERT','error','üéÆ\x20Í≤åÏûÑ\x20Î∞©','created_at','log','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22channel-name-row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22channel-name-label\x22>','comments','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22header-category-label\x22>','comment-update','pendingChannelId','channel','loadFriends','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22channel-group-item\x20','subscribe','delete','off','querySelectorAll','VITE_SUPABASE_KEY','createElement','data-optimistic','setupPresence','reload','\x22\x20class=\x22message-avatar\x22\x20style=\x22width:100%;\x20height:100%;\x20border-radius:50%;\x22\x20onerror=\x22this.onerror=null;\x20this.src=\x27\x27;\x20this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27flex\x27\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22uid-row\x22\x20style=\x22display:flex;\x20align-items:center;\x20gap:4px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22uid-badge\x22>UID:\x20','anticode_users','upload','1567394CnBujG','click','appendMessage','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22online-dot\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22member-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22member-name-text\x22>','has','updateOnlineUsers','msg_','find','value','12267xbrNUQ','setupEventListeners','unlockedChannels','opacity','auth-guard','Ïò§Îûò\x20Ï†Ñ','Ïò§ÌîÑÎùºÏù∏','count','none','open-add-friend','auto','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22sidebar-list\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','limit','removeChannel','loadChannels','mobile-dropdown-menu','.header-left','.notif-toggle-btn','createChannel','remove','onclick','reset','avatar-file-input','password-entry-form','...','mobile-more-btn','menu-friends','focus','messageSubscription','</small></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22friend-status-text\x22>','display','mobile-menu-toggle','onkeydown','presence','getUserInfo','random','messageQueue','syncFriendStatus','toString','000000','friend-uid-input','join','push','preventDefault','className','textContent','scrollHeight','notify','Î∞©Ïû•Îßå\x20Ï±ÑÎÑêÏùÑ\x20ÏÉùÏÑ±Ìï†\x20Ïàò\x20ÏûàÏäµÎãàÎã§.','updateLastSeen','toLocaleTimeString','SUBSCRIBED','toISOString','(Ï†ÑÏÜ°\x20Ï§ë...)'];a0_0x210f=function(){return _0xd8f0c9;};return a0_0x210f();}const NotificationManager={'count':0x0,'isSoundOn':localStorage['getItem']('nano_notif_sound')!==a0_0x749b8f(0x141),'initialized':![],async 'init'(){const _0x8fbe27=a0_0x749b8f;if(this[_0x8fbe27(0x219)])return;this[_0x8fbe27(0x1ac)](),this[_0x8fbe27(0x1f3)](),setTimeout(()=>this[_0x8fbe27(0x197)](),0x7d0),this['initialized']=!![];},'setupSubscriptions'(){const _0x4c6ea1=a0_0x749b8f;if(!window[_0x4c6ea1(0x212)]||!window[_0x4c6ea1(0x212)]['supabase'])return;const _0x2c005f=window[_0x4c6ea1(0x212)][_0x4c6ea1(0x120)];console['log']('Setting\x20up\x20notification\x20subscriptions\x20for\x20AntiCode...'),_0x2c005f[_0x4c6ea1(0x13c)](_0x4c6ea1(0x1d4))['on'](_0x4c6ea1(0x1d5),{'event':_0x4c6ea1(0x132),'table':'posts'},_0x57235d=>{const _0x394ff1=_0x4c6ea1;this[_0x394ff1(0x184)]('post',_0x57235d[_0x394ff1(0x1f2)]);})['on'](_0x4c6ea1(0x1d5),{'event':'UPDATE','table':_0x4c6ea1(0x1ee)},_0x4451b7=>{const _0x4b6ed3=_0x4c6ea1;this[_0x4b6ed3(0x184)](_0x4b6ed3(0x1cc),_0x4451b7[_0x4b6ed3(0x1f2)]);})[_0x4c6ea1(0x13f)](),_0x2c005f[_0x4c6ea1(0x13c)](_0x4c6ea1(0x12b))['on'](_0x4c6ea1(0x1d5),{'event':_0x4c6ea1(0x132),'table':_0x4c6ea1(0x138)},_0x20a4cd=>{const _0x323a0d=_0x4c6ea1;this[_0x323a0d(0x184)](_0x323a0d(0x239),_0x20a4cd[_0x323a0d(0x1f2)]);})['on']('postgres_changes',{'event':'UPDATE','table':_0x4c6ea1(0x138)},_0x4c8df3=>{const _0x34740b=_0x4c6ea1;this['notify'](_0x34740b(0x13a),_0x4c8df3[_0x34740b(0x1f2)]);})[_0x4c6ea1(0x13f)](),_0x2c005f['channel'](_0x4c6ea1(0x112))['on'](_0x4c6ea1(0x1d5),{'event':_0x4c6ea1(0x132),'table':_0x4c6ea1(0x117)},_0x1176fc=>{const _0x169cb3=_0x4c6ea1;this['notify'](_0x169cb3(0x227),_0x1176fc['new']);})[_0x4c6ea1(0x13f)]();},'notify'(_0x1725c1,_0x250193){const _0x47fc66=a0_0x749b8f;this[_0x47fc66(0x15c)]++;if(this[_0x47fc66(0x15c)]>0x64)this[_0x47fc66(0x15c)]=0x64;this[_0x47fc66(0x1ac)](),this[_0x47fc66(0x23a)]();},'playSound'(){const _0x533d8c=a0_0x749b8f;if(!this['isSoundOn'])return;const _0x1ad9c8=document['getElementById'](_0x533d8c(0xf3));_0x1ad9c8&&(_0x1ad9c8[_0x533d8c(0x1b4)]=0x0,_0x1ad9c8['play']()[_0x533d8c(0x232)](_0x257177=>console['warn']('Sound\x20play\x20blocked\x20by\x20browser\x20policy.\x20Interaction\x20needed.')));},'updateBadge'(){const _0x2a7cd8=a0_0x749b8f,_0xa6a390=document['getElementById'](_0x2a7cd8(0xfc)),_0x5c5865=document[_0x2a7cd8(0x1cb)](_0x2a7cd8(0x127));if(!_0xa6a390||!_0x5c5865)return;this[_0x2a7cd8(0x15c)]>0x0?(_0xa6a390[_0x2a7cd8(0x1c7)]['add'](_0x2a7cd8(0x240)),_0x5c5865[_0x2a7cd8(0x210)]['display']='block',_0x5c5865[_0x2a7cd8(0x182)]=this[_0x2a7cd8(0x15c)]>0x63?_0x2a7cd8(0xed):this[_0x2a7cd8(0x15c)]):(_0xa6a390[_0x2a7cd8(0x1c7)][_0x2a7cd8(0x168)](_0x2a7cd8(0x240)),_0x5c5865[_0x2a7cd8(0x210)][_0x2a7cd8(0x173)]='none');},'toggleSound'(){const _0x266f7b=a0_0x749b8f;this[_0x266f7b(0x1fb)]=!this[_0x266f7b(0x1fb)],localStorage[_0x266f7b(0x11a)](_0x266f7b(0x131),this[_0x266f7b(0x1fb)]?'on':_0x266f7b(0x141)),this[_0x266f7b(0x1f3)]();},'updateButtons'(){const _0x450c04=a0_0x749b8f,_0x17a8aa=document[_0x450c04(0x142)](_0x450c04(0x166));_0x17a8aa[_0x450c04(0x1ad)](_0x4ad138=>{const _0x4aeab6=_0x450c04,_0x5e0cb3=_0x4ad138['id']===_0x4aeab6(0x21b);this[_0x4aeab6(0x1fb)]?(_0x4ad138[_0x4aeab6(0x1c7)][_0x4aeab6(0x206)]('on'),_0x4ad138[_0x4aeab6(0x214)]=_0x5e0cb3?_0x4aeab6(0xf4):'üîî\x20ÏïåÎ¶º\x20ÏÜåÎ¶¨\x20ON'):(_0x4ad138[_0x4aeab6(0x1c7)][_0x4aeab6(0x168)]('on'),_0x4ad138[_0x4aeab6(0x214)]=_0x5e0cb3?_0x4aeab6(0x22e):'üîï\x20ÏïåÎ¶º\x20ÏÜåÎ¶¨\x20OFF');});},'clearNotifications'(){const _0x2839c2=a0_0x749b8f;this[_0x2839c2(0x15c)]=0x0,this[_0x2839c2(0x1ac)]();}};window[a0_0x749b8f(0x1eb)]=()=>NotificationManager['toggleSound'](),window[a0_0x749b8f(0x1ae)]=()=>NotificationManager['clearNotifications']();class AntiCodeApp{constructor(){const _0xdb3a90=a0_0x749b8f;this[_0xdb3a90(0x120)]=null,this['currentUser']=null,this['channels']=[],this[_0xdb3a90(0x211)]=[],this[_0xdb3a90(0x1e4)]={},this['activeChannel']=null,this[_0xdb3a90(0x12f)]=null,this[_0xdb3a90(0x171)]=null,this[_0xdb3a90(0x157)]=new Set(),this[_0xdb3a90(0x19a)]=new Set(),this[_0xdb3a90(0x1ce)]=![],this[_0xdb3a90(0x1cd)]={},this[_0xdb3a90(0x1d3)]=new Set(),this[_0xdb3a90(0x179)]=[],this[_0xdb3a90(0x1fe)]=![];}async[a0_0x749b8f(0x1a2)](_0x46daf4,_0x16d5dc=a0_0x749b8f(0xf2)){const _0x16ef5f=a0_0x749b8f,_0x2153ef=_0x46daf4['name'][_0x16ef5f(0x10f)]('.')[_0x16ef5f(0x21c)](),_0xbd0a30=Math[_0x16ef5f(0x178)]()['toString'](0x24)[_0x16ef5f(0x119)](0x2)+'_'+Date['now']()+'.'+_0x2153ef,_0x34f7db=''+_0xbd0a30,{data:_0x2a9896,error:_0x4ebcfd}=await this[_0x16ef5f(0x120)][_0x16ef5f(0x18f)]['from'](_0x16d5dc)[_0x16ef5f(0x14b)](_0x34f7db,_0x46daf4);if(_0x4ebcfd){console[_0x16ef5f(0x133)](_0x16ef5f(0x215),_0x4ebcfd);throw _0x4ebcfd;}const {data:{publicUrl:_0x315397}}=this[_0x16ef5f(0x120)][_0x16ef5f(0x18f)]['from'](_0x16d5dc)['getPublicUrl'](_0x34f7db);return _0x315397;}async[a0_0x749b8f(0x20f)](){const _0xdb8970=a0_0x749b8f;console[_0xdb8970(0x136)](_0xdb8970(0x1bf)),NotificationManager[_0xdb8970(0x20f)](),this[_0xdb8970(0x111)]=this['getAuth']();if(!this[_0xdb8970(0x111)]){document['getElementById'](_0xdb8970(0x159))[_0xdb8970(0x210)][_0xdb8970(0x173)]='flex';return;}this[_0xdb8970(0x1ce)]=this[_0xdb8970(0x111)][_0xdb8970(0x1b0)]===_0xdb8970(0x1de);try{this[_0xdb8970(0x120)]=createClient(SUPABASE_URL,SUPABASE_KEY),await this[_0xdb8970(0x1ea)](),await this[_0xdb8970(0x163)](),await this[_0xdb8970(0x13d)](),this[_0xdb8970(0x156)](),this['renderUserInfo'](),this[_0xdb8970(0x146)](),this[_0xdb8970(0x22a)][_0xdb8970(0x1c5)]>0x0&&await this['switchChannel'](this['channels'][0x0]['id']);}catch(_0x1aaa1e){console[_0xdb8970(0x133)]('App\x20Init\x20Error:',_0x1aaa1e);}}[a0_0x749b8f(0x202)](){const _0x232b63=a0_0x749b8f,_0xd0d4a4=localStorage[_0x232b63(0xf1)](SESSION_KEY);if(!_0xd0d4a4)return null;const _0x49de63=JSON[_0x232b63(0x1f5)](_0xd0d4a4);if(Date[_0x232b63(0xf5)]()>_0x49de63[_0x232b63(0xfa)])return null;return _0x49de63;}async['syncUserMetadata'](){const _0x20750f=a0_0x749b8f;let {data:_0x2ba4da,error:_0x5864bf}=await this[_0x20750f(0x120)][_0x20750f(0x22f)](_0x20750f(0x14a))['select']('*')['eq'](_0x20750f(0xe3),this[_0x20750f(0x111)][_0x20750f(0xe3)])[_0x20750f(0xf6)]();if(_0x5864bf||!_0x2ba4da){const _0x5d44a9=Math[_0x20750f(0x12c)](0x186a0+Math[_0x20750f(0x178)]()*0xdbba0)[_0x20750f(0x17b)](),_0x10cff1={'username':this[_0x20750f(0x111)][_0x20750f(0xe3)],'nickname':this[_0x20750f(0x111)]['nickname'],'uid':_0x5d44a9,'avatar_url':null};await this[_0x20750f(0x120)][_0x20750f(0x22f)]('anticode_users')[_0x20750f(0x1a3)](_0x10cff1),this[_0x20750f(0x111)]={...this[_0x20750f(0x111)],..._0x10cff1};}else this[_0x20750f(0x111)]={...this[_0x20750f(0x111)],..._0x2ba4da};this[_0x20750f(0x1e4)][this[_0x20750f(0x111)][_0x20750f(0xe3)]]={'nickname':this[_0x20750f(0x111)][_0x20750f(0xe6)],'avatar_url':this[_0x20750f(0x111)][_0x20750f(0x222)]};}async[a0_0x749b8f(0x177)](_0x5d79be){const _0x225482=a0_0x749b8f;if(this[_0x225482(0x1e4)][_0x5d79be])return this[_0x225482(0x1e4)][_0x5d79be];if(this[_0x225482(0x1cd)][_0x5d79be])return this[_0x225482(0x1cd)][_0x5d79be];const _0x3b65f1=async()=>{const _0x1b32cb=_0x225482;try{const {data:_0x2615aa,error:_0x55b97f}=await this[_0x1b32cb(0x120)][_0x1b32cb(0x22f)](_0x1b32cb(0x14a))[_0x1b32cb(0x101)](_0x1b32cb(0x21a))['eq']('username',_0x5d79be)['single']();if(!_0x55b97f&&_0x2615aa)return this['userCache'][_0x5d79be]=_0x2615aa,_0x2615aa;}catch(_0x104c04){console['error']('getUserInfo\x20error:',_0x104c04);}finally{delete this[_0x1b32cb(0x1cd)][_0x5d79be];}return{'nickname':_0x5d79be,'avatar_url':null};};return this['userRequestCache'][_0x5d79be]=_0x3b65f1(),this['userRequestCache'][_0x5d79be];}async[a0_0x749b8f(0x200)](_0x4d2aae,_0x378ee6){const _0x55dc0b=a0_0x749b8f;try{const {error:_0x7c5a08}=await this[_0x55dc0b(0x120)][_0x55dc0b(0x22f)](_0x55dc0b(0x14a))[_0x55dc0b(0xfb)]({'nickname':_0x4d2aae,'avatar_url':_0x378ee6})['eq']('username',this['currentUser'][_0x55dc0b(0xe3)]);if(!_0x7c5a08){this[_0x55dc0b(0x111)][_0x55dc0b(0xe6)]=_0x4d2aae,this[_0x55dc0b(0x111)][_0x55dc0b(0x222)]=_0x378ee6,this[_0x55dc0b(0x1e4)][this[_0x55dc0b(0x111)][_0x55dc0b(0xe3)]]={'nickname':_0x4d2aae,'avatar_url':_0x378ee6},this[_0x55dc0b(0xe5)]();const _0x15a8a2=JSON['parse'](localStorage[_0x55dc0b(0xf1)](SESSION_KEY));return _0x15a8a2&&(_0x15a8a2[_0x55dc0b(0xe6)]=_0x4d2aae,localStorage[_0x55dc0b(0x11a)](SESSION_KEY,JSON['stringify'](_0x15a8a2))),!![];}}catch(_0x32be99){console[_0x55dc0b(0x133)]('Update\x20profile\x20error:',_0x32be99);}return![];}async['loadFriends'](){const _0x2bbcdf=a0_0x749b8f,{data:_0x1b2ccc,error:_0x23f3fd}=await this[_0x2bbcdf(0x120)]['from'](_0x2bbcdf(0x18b))[_0x2bbcdf(0x101)](_0x2bbcdf(0x1e3))['eq'](_0x2bbcdf(0x104),this[_0x2bbcdf(0x111)]['username']);!_0x23f3fd&&_0x1b2ccc&&(this[_0x2bbcdf(0x211)]=_0x1b2ccc['map'](_0x309a8c=>{const _0x9ef176=_0x2bbcdf,_0x4626da=_0x309a8c[_0x9ef176(0x1ec)];if(_0x4626da)this[_0x9ef176(0x1e4)][_0x309a8c[_0x9ef176(0x205)]]=_0x4626da;return{'username':_0x309a8c[_0x9ef176(0x205)],'nickname':_0x4626da?_0x4626da[_0x9ef176(0xe6)]:_0x309a8c[_0x9ef176(0x205)],'uid':_0x4626da?_0x4626da[_0x9ef176(0x20d)]:_0x9ef176(0x17c),'avatar_url':_0x4626da?_0x4626da[_0x9ef176(0x222)]:null,'online':![]};}),this[_0x2bbcdf(0x229)]());}async[a0_0x749b8f(0x221)](_0x2279bb){const _0x5be4c6=a0_0x749b8f,{data:_0x11c3fa,error:_0x15595a}=await this[_0x5be4c6(0x120)][_0x5be4c6(0x22f)](_0x5be4c6(0x14a))[_0x5be4c6(0x101)](_0x5be4c6(0xe3))['eq'](_0x5be4c6(0x20d),_0x2279bb)[_0x5be4c6(0xf6)]();if(_0x15595a||!_0x11c3fa)return alert(_0x5be4c6(0x1ba)),![];if(_0x11c3fa[_0x5be4c6(0xe3)]===this['currentUser'][_0x5be4c6(0xe3)])return alert(_0x5be4c6(0xe4)),![];const {error:_0x251b01}=await this[_0x5be4c6(0x120)][_0x5be4c6(0x22f)]('anticode_friends')[_0x5be4c6(0x230)]([{'user_username':this[_0x5be4c6(0x111)]['username'],'friend_username':_0x11c3fa[_0x5be4c6(0xe3)]}]);if(_0x251b01)return alert('Ïù¥ÎØ∏\x20ÏπúÍµ¨Í±∞ÎÇò\x20Ïò§Î•òÍ∞Ä\x20Î∞úÏÉùÌñàÏäµÎãàÎã§.'),![];return await this[_0x5be4c6(0x13d)](),!![];}[a0_0x749b8f(0x229)](){const _0x5be0bf=a0_0x749b8f,_0x42dd31=document[_0x5be0bf(0x1cb)](_0x5be0bf(0x20b));if(!_0x42dd31)return;const _0x558cfa=this['friends']['slice'](0x0,0x3),_0xcbd326=this[_0x5be0bf(0x211)][_0x5be0bf(0x1c5)]>0x3;let _0x528ef4=_0x558cfa[_0x5be0bf(0x19c)](_0x47e767=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li\x20class=\x22friend-item\x20'+(_0x47e767[_0x5be0bf(0x1a1)]?'online':_0x5be0bf(0xe8))+_0x5be0bf(0x100)+_0x47e767[_0x5be0bf(0xe3)]+_0x5be0bf(0xff)+(_0x47e767[_0x5be0bf(0x222)]?_0x5be0bf(0x1fd)+_0x47e767[_0x5be0bf(0x222)]+_0x5be0bf(0x1ff):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22avatar-sm\x22\x20style=\x22'+(_0x47e767['avatar_url']?_0x5be0bf(0x12e):'')+'\x22>'+_0x47e767[_0x5be0bf(0xe6)][0x0]+_0x5be0bf(0x1a9)+_0x47e767[_0x5be0bf(0xe6)]+_0x5be0bf(0x22c)+_0x47e767[_0x5be0bf(0x20d)]+_0x5be0bf(0x172)+(_0x47e767['online']?'Ïò®ÎùºÏù∏':formatDistanceToNow(_0x47e767[_0x5be0bf(0x22d)]))+_0x5be0bf(0x121))[_0x5be0bf(0x17e)]('');_0xcbd326&&(_0x528ef4+=_0x5be0bf(0x11b)),_0x42dd31['innerHTML']=_0x528ef4;}async[a0_0x749b8f(0x163)](){const _0x106626=a0_0x749b8f,{data:_0x2ef214,error:_0x5786e4}=await this[_0x106626(0x120)][_0x106626(0x22f)]('anticode_channels')[_0x106626(0x101)]('*')[_0x106626(0x12a)](_0x106626(0x12a),{'ascending':!![]});if(!_0x5786e4&&_0x2ef214&&_0x2ef214[_0x106626(0x1c5)]>0x0)this[_0x106626(0x22a)]=_0x2ef214[_0x106626(0x19c)](_0x430665=>{const _0x39bf3f=_0x106626;if(_0x430665[_0x39bf3f(0x190)]===_0x39bf3f(0x238))_0x430665['password']=_0x39bf3f(0x11e);return new Channel(_0x430665);});else this['channels']=[new Channel({'id':_0x106626(0x1c1),'name':_0x106626(0x1e1),'type':'general','category':_0x106626(0x227)})];this['renderChannels']();}[a0_0x749b8f(0xf8)](){const _0x1a7e0a=a0_0x749b8f,_0xd6d632=document[_0x1a7e0a(0x1cb)](_0x1a7e0a(0x1be));_0xd6d632[_0x1a7e0a(0x214)]='';const _0x701f2c={};this['channels']['forEach'](_0x38b865=>{const _0x4c2356=_0x1a7e0a;if(!_0x701f2c[_0x38b865[_0x4c2356(0x1a6)]])_0x701f2c[_0x38b865['category']]=[];_0x701f2c[_0x38b865[_0x4c2356(0x1a6)]]['push'](_0x38b865);}),Object['keys'](CATEGORY_NAMES)[_0x1a7e0a(0x1ad)](_0x3465ad=>{const _0x207a7a=_0x1a7e0a,_0x396700=_0x701f2c[_0x3465ad]||[];if(_0x396700[_0x207a7a(0x1c5)]===0x0&&_0x3465ad!=='chat')return;const _0x231902=document[_0x207a7a(0x144)]('div');_0x231902['className']=_0x207a7a(0xfe),_0x231902[_0x207a7a(0x214)]=_0x207a7a(0x1a7)+CATEGORY_NAMES[_0x3465ad]+_0x207a7a(0x1bd)+(_0x3465ad==='chat'&&this[_0x207a7a(0x1ce)]?'<button\x20id=\x22open-create-channel-cat\x22\x20class=\x22add-channel-btn\x22>+</button>':'')+_0x207a7a(0x160)+_0x396700[_0x207a7a(0x19c)](_0x41eb9a=>_0x41eb9a[_0x207a7a(0x207)](this[_0x207a7a(0x10e)]&&_0x41eb9a['id']===this[_0x207a7a(0x10e)]['id'],this[_0x207a7a(0x1ce)]))[_0x207a7a(0x17e)]('')+_0x207a7a(0x118),_0xd6d632[_0x207a7a(0x18e)](_0x231902);}),_0xd6d632[_0x1a7e0a(0x142)]('.channel-sub-link')['forEach'](_0x1a23b7=>{const _0xf60987=_0x1a7e0a;_0x1a23b7[_0xf60987(0x169)]=()=>this[_0xf60987(0x191)](_0x1a23b7[_0xf60987(0x10c)]['id']);});const _0x446be0=document[_0x1a7e0a(0x1cb)]('open-create-channel-cat');if(_0x446be0)_0x446be0[_0x1a7e0a(0x169)]=()=>document[_0x1a7e0a(0x1cb)](_0x1a7e0a(0x209))[_0x1a7e0a(0x210)]['display']='flex';}async['handleChannelSwitch'](_0x567b7b){const _0xcac036=a0_0x749b8f,_0x406bf9=this[_0xcac036(0x22a)]['find'](_0x2deb9a=>_0x2deb9a['id']===_0x567b7b);if(!_0x406bf9)return;if(_0x406bf9['type']===_0xcac036(0x216)&&_0x406bf9[_0xcac036(0x1b9)]&&!this[_0xcac036(0x157)][_0xcac036(0x150)](_0x567b7b)){this[_0xcac036(0x13b)]=_0x567b7b,document['getElementById'](_0xcac036(0x18c))[_0xcac036(0x210)][_0xcac036(0x173)]=_0xcac036(0x1bb),document['getElementById']('entry-password-input')[_0xcac036(0x170)]();return;}document[_0xcac036(0x20c)](_0xcac036(0x234))['classList'][_0xcac036(0x168)]('open'),document[_0xcac036(0x20c)]('.anticode-members')[_0xcac036(0x1c7)][_0xcac036(0x168)](_0xcac036(0x1b7)),await this['switchChannel'](_0x567b7b);}async[a0_0x749b8f(0x1e0)](_0x9e5a4c){const _0x5e2dbc=a0_0x749b8f,_0x1c3228=this[_0x5e2dbc(0x22a)][_0x5e2dbc(0x153)](_0x37c483=>_0x37c483['id']===_0x9e5a4c);if(!_0x1c3228)return;this['activeChannel']=_0x1c3228,this[_0x5e2dbc(0x157)][_0x5e2dbc(0x206)](_0x9e5a4c),this[_0x5e2dbc(0xf8)]();const _0x44d615=document['querySelector'](_0x5e2dbc(0x165));_0x44d615&&(_0x44d615['outerHTML']=_0x1c3228[_0x5e2dbc(0x106)]());const _0x515e2b=document['getElementById'](_0x5e2dbc(0x164));let _0x1a9dbf=document[_0x5e2dbc(0x1cb)](_0x5e2dbc(0x1ca));if(_0x1c3228[_0x5e2dbc(0x113)]===this['currentUser'][_0x5e2dbc(0xe3)]){if(!_0x1a9dbf&&_0x515e2b){const _0x5aa507=document[_0x5e2dbc(0x144)](_0x5e2dbc(0x129));_0x5aa507['id']='menu-delete-channel',_0x5aa507[_0x5e2dbc(0x181)]='menu-item-danger',_0x5aa507[_0x5e2dbc(0x182)]='‚ùå\x20Ï±ÑÎÑê\x20ÏÇ≠Ï†ú',_0x515e2b[_0x5e2dbc(0x18e)](_0x5aa507),_0x1a9dbf=_0x5aa507;}if(_0x1a9dbf)_0x1a9dbf[_0x5e2dbc(0x169)]=_0x39bf88=>{const _0x1aa1b9=_0x5e2dbc;_0x39bf88[_0x1aa1b9(0x1e2)]();if(_0x515e2b)_0x515e2b['style'][_0x1aa1b9(0x173)]=_0x1aa1b9(0x15d);this['deleteChannel'](_0x1c3228['id']);};}else _0x1a9dbf&&_0x1a9dbf[_0x5e2dbc(0x168)]();document[_0x5e2dbc(0x1cb)]('chat-input')[_0x5e2dbc(0x20a)]=_0x1c3228[_0x5e2dbc(0xf9)](),await this['loadMessages'](_0x1c3228['id']),this[_0x5e2dbc(0x114)](_0x1c3228['id']);}async[a0_0x749b8f(0x23f)](_0xcd3644){const _0x54ac0b=a0_0x749b8f;if(!confirm(_0x54ac0b(0x1dc)))return;await this[_0x54ac0b(0x120)][_0x54ac0b(0x22f)](_0x54ac0b(0x117))[_0x54ac0b(0x140)]()['eq'](_0x54ac0b(0x1f7),_0xcd3644);const {error:_0x4a0da7}=await this[_0x54ac0b(0x120)][_0x54ac0b(0x22f)](_0x54ac0b(0x208))['delete']()['eq']('id',_0xcd3644);!_0x4a0da7?(this[_0x54ac0b(0x22a)]=this['channels'][_0x54ac0b(0x10a)](_0x325f43=>_0x325f43['id']!==_0xcd3644),this[_0x54ac0b(0xf8)](),this[_0x54ac0b(0x22a)][_0x54ac0b(0x1c5)]>0x0?await this['switchChannel'](this[_0x54ac0b(0x22a)][0x0]['id']):location[_0x54ac0b(0x147)]()):alert(_0x54ac0b(0x1e9)+_0x4a0da7[_0x54ac0b(0x22b)]);}async[a0_0x749b8f(0x167)](_0x27dd1c,_0x5b2e9b,_0x44b4a6,_0x323a08){const _0x6449fc=a0_0x749b8f;if(!this[_0x6449fc(0x1ce)])return alert(_0x6449fc(0x185)),![];const {data:_0x96570a,error:_0x1bf017}=await this['supabase'][_0x6449fc(0x22f)](_0x6449fc(0x208))['insert']([{'name':_0x27dd1c,'type':_0x5b2e9b,'category':_0x44b4a6,'password':_0x5b2e9b===_0x6449fc(0x216)?_0x323a08:null,'owner_id':this[_0x6449fc(0x111)][_0x6449fc(0xe3)],'order':this[_0x6449fc(0x22a)][_0x6449fc(0x1c5)]}])[_0x6449fc(0x101)]();if(!_0x1bf017&&_0x96570a){const _0x5c1bec=new Channel(_0x96570a[0x0]);return this['channels'][_0x6449fc(0x17f)](_0x5c1bec),this[_0x6449fc(0xf8)](),this[_0x6449fc(0x1e0)](_0x5c1bec['id']),!![];}return![];}async[a0_0x749b8f(0x236)](_0x1c151e){const _0x51d6ca=a0_0x749b8f,{data:_0x414cfd,error:_0x53484b}=await this[_0x51d6ca(0x120)][_0x51d6ca(0x22f)](_0x51d6ca(0x117))['select']('*')['eq']('channel_id',_0x1c151e)[_0x51d6ca(0x12a)](_0x51d6ca(0x135),{'ascending':!![]})[_0x51d6ca(0x161)](0x32);if(!_0x53484b){document[_0x51d6ca(0x1cb)]('message-container')[_0x51d6ca(0x214)]='';for(const _0x4f85ba of _0x414cfd)await this[_0x51d6ca(0x14e)](_0x4f85ba);}}[a0_0x749b8f(0x114)](_0x356cf6){const _0x1b2dcc=a0_0x749b8f;if(this[_0x1b2dcc(0x171)])this['supabase'][_0x1b2dcc(0x162)](this['messageSubscription']);console[_0x1b2dcc(0x136)](_0x1b2dcc(0x122)+_0x356cf6),this[_0x1b2dcc(0x171)]=this[_0x1b2dcc(0x120)][_0x1b2dcc(0x13c)](_0x1b2dcc(0x1ab)+_0x356cf6,{'config':{'broadcast':{'self':![]}}})['on'](_0x1b2dcc(0x1f1),{'event':'chat'},_0x48301f=>{const _0x287320=_0x1b2dcc;this[_0x287320(0x193)](_0x48301f[_0x287320(0x1f0)]);})['on']('postgres_changes',{'event':'INSERT','schema':'public','table':_0x1b2dcc(0x117),'filter':'channel_id=eq.'+_0x356cf6},_0xec28f4=>{const _0xa8c64b=_0x1b2dcc;this['queueMessage'](_0xec28f4[_0xa8c64b(0x1f2)]);})['subscribe'](_0x25b5a4=>{const _0x37843f=_0x1b2dcc;console[_0x37843f(0x136)]('Subscription\x20status\x20for\x20'+_0x356cf6+':',_0x25b5a4);});}[a0_0x749b8f(0x193)](_0x4f54c3,_0x35db26=![]){const _0x40e42a=a0_0x749b8f;this[_0x40e42a(0x179)]['push']({'msg':_0x4f54c3,'isOptimistic':_0x35db26}),this['processQueue']();}async[a0_0x749b8f(0x1c9)](){const _0x5af5ce=a0_0x749b8f;if(this[_0x5af5ce(0x1fe)]||this['messageQueue'][_0x5af5ce(0x1c5)]===0x0)return;this[_0x5af5ce(0x1fe)]=!![];while(this[_0x5af5ce(0x179)]['length']>0x0){const {msg:_0x5d6ba2,isOptimistic:_0x5cdbdf}=this[_0x5af5ce(0x179)][_0x5af5ce(0x204)]();try{await this['appendMessage'](_0x5d6ba2,_0x5cdbdf);}catch(_0x10b522){console[_0x5af5ce(0x133)](_0x5af5ce(0x1e8),_0x10b522,_0x5d6ba2);}}this[_0x5af5ce(0x1fe)]=![];}['setupPresence'](){const _0x1eeaec=a0_0x749b8f;this[_0x1eeaec(0x12f)]=this['supabase']['channel']('online-users'),this['presenceChannel']['on'](_0x1eeaec(0x176),{'event':_0x1eeaec(0x220)},()=>{const _0x290ece=_0x1eeaec,_0x1979ce=this[_0x290ece(0x12f)]['presenceState']();this[_0x290ece(0x151)](_0x1979ce),this['syncFriendStatus'](_0x1979ce);})['subscribe'](async _0x325ab0=>{const _0x46d234=_0x1eeaec;if(_0x325ab0===_0x46d234(0x188)){const _0x31ac64={'username':this[_0x46d234(0x111)]['username'],'nickname':this[_0x46d234(0x111)][_0x46d234(0xe6)],'uid':this[_0x46d234(0x111)]['uid'],'avatar_url':this[_0x46d234(0x111)]['avatar_url'],'online_at':new Date()[_0x46d234(0x189)]()};await this['presenceChannel']['track'](_0x31ac64),this[_0x46d234(0x186)]();if(this[_0x46d234(0x224)])clearInterval(this[_0x46d234(0x224)]);this['lastSeenInterval']=setInterval(()=>this[_0x46d234(0x186)](),0xea60);}});}async['updateLastSeen'](){const _0xb45230=a0_0x749b8f;if(!this[_0xb45230(0x111)])return;try{await this[_0xb45230(0x120)]['from'](_0xb45230(0x14a))[_0xb45230(0xfb)]({'last_seen':new Date()['toISOString']()})['eq']('username',this[_0xb45230(0x111)][_0xb45230(0xe3)]);}catch(_0x4e2af6){console[_0xb45230(0x133)](_0xb45230(0x23e),_0x4e2af6);}}async['updateOnlineUsers'](_0x117a07){const _0x3432e4=a0_0x749b8f,_0x4d956f=document[_0x3432e4(0x1cb)](_0x3432e4(0x19f)),_0x331e33=document[_0x3432e4(0x1cb)]('online-count');if(!_0x4d956f)return;const _0x37db42=[];for(const _0x557eb1 in _0x117a07)_0x37db42['push'](_0x117a07[_0x557eb1][0x0]);if(_0x331e33)_0x331e33['innerText']=_0x37db42[_0x3432e4(0x1c5)];const _0x4a5555=new Set(this[_0x3432e4(0x211)][_0x3432e4(0x19c)](_0x203bbb=>_0x203bbb['username'])),_0x4f8aee=this['friends']['filter'](_0x53eb4a=>!_0x53eb4a[_0x3432e4(0x1a1)]);let _0x574a02=_0x37db42['map'](_0x1014ae=>{const _0x596641=_0x3432e4,_0xb62c67=_0x4a5555[_0x596641(0x150)](_0x1014ae[_0x596641(0xe3)]);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22member-card\x20online\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22avatar-wrapper\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1014ae[_0x596641(0x222)]?_0x596641(0x1fd)+_0x1014ae[_0x596641(0x222)]+_0x596641(0x1ff):'')+_0x596641(0x1d1)+(_0x1014ae[_0x596641(0x222)]?_0x596641(0x12e):'')+'\x22>'+_0x1014ae['nickname'][0x0]+_0x596641(0x14f)+_0x1014ae['nickname']+'\x20'+(_0xb62c67?_0x596641(0x1fc):'')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22member-status-sub\x22>Ïò®ÎùºÏù∏</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x3432e4(0x17e)]('');_0x574a02+=_0x4f8aee[_0x3432e4(0x19c)](_0x1f1716=>_0x3432e4(0x10d)+(_0x1f1716[_0x3432e4(0x222)]?'<img\x20src=\x22'+_0x1f1716['avatar_url']+'\x22\x20class=\x22avatar-sm\x22\x20onerror=\x22this.onerror=null;\x20this.src=\x27\x27;\x20this.style.display=\x27none\x27;\x20this.nextElementSibling.style.display=\x27flex\x27\x22>':'')+_0x3432e4(0x11f)+(_0x1f1716[_0x3432e4(0x222)]?_0x3432e4(0x12e):'')+'\x22>'+_0x1f1716[_0x3432e4(0xe6)][0x0]+_0x3432e4(0x1c6)+_0x1f1716[_0x3432e4(0xe6)]+_0x3432e4(0x1d0)+formatDistanceToNow(_0x1f1716['last_seen'])+_0x3432e4(0x1c3))['join'](''),_0x4d956f[_0x3432e4(0x214)]=_0x574a02;}[a0_0x749b8f(0x17a)](_0x46f3b0){const _0x1142c0=a0_0x749b8f,_0x305906=[];for(const _0x24cf19 in _0x46f3b0)_0x305906['push'](_0x46f3b0[_0x24cf19][0x0][_0x1142c0(0xe3)]);this[_0x1142c0(0x211)][_0x1142c0(0x1ad)](_0x3d8f30=>{const _0x3cab0c=_0x1142c0;_0x3d8f30['online']=_0x305906[_0x3cab0c(0x12d)](_0x3d8f30['username']);}),this[_0x1142c0(0x229)]();}async[a0_0x749b8f(0x124)](){const _0x161087=a0_0x749b8f,_0x39d8bb=document[_0x161087(0x1cb)]('chat-input'),_0x29be24=_0x39d8bb[_0x161087(0x154)][_0x161087(0x217)]();if(!_0x29be24||!this[_0x161087(0x10e)])return;const _0x1f48a2=_0x161087(0x152)+Date[_0x161087(0xf5)]()+Math[_0x161087(0x178)]()['toString'](0x24)['substring'](0x7),_0x313388={'id':_0x1f48a2,'channel_id':this[_0x161087(0x10e)]['id'],'user_id':this[_0x161087(0x111)][_0x161087(0xe3)],'author':this[_0x161087(0x111)][_0x161087(0xe6)],'content':_0x29be24,'created_at':new Date()[_0x161087(0x189)]()};_0x39d8bb[_0x161087(0x154)]='',_0x39d8bb[_0x161087(0x210)]['height']=_0x161087(0x15f),this['sentMessageCache'][_0x161087(0x206)](_0x1f48a2),this['queueMessage']({..._0x313388},!![]);this[_0x161087(0x171)]&&this['messageSubscription'][_0x161087(0x1d2)]({'type':_0x161087(0x1f1),'event':'chat','payload':_0x313388});const {data:_0x403bc3,error:_0x38d42a}=await this[_0x161087(0x120)][_0x161087(0x22f)]('anticode_messages')['insert']([{'channel_id':this[_0x161087(0x10e)]['id'],'user_id':this[_0x161087(0x111)][_0x161087(0xe3)],'author':this[_0x161087(0x111)][_0x161087(0xe6)],'content':_0x29be24,'image_url':_0x313388['image_url']||null}])[_0x161087(0x101)]();_0x38d42a&&console['error'](_0x161087(0x126),_0x38d42a);}async['appendMessage'](_0x5d0b08,_0x547c14=![]){const _0x5c5941=a0_0x749b8f;try{const _0x42c69b=document[_0x5c5941(0x1cb)](_0x5c5941(0x23c));if(!_0x42c69b)return;if(!_0x547c14){if(_0x5d0b08['id']&&this['processedMessageIds'][_0x5c5941(0x150)](_0x5d0b08['id']))return;const _0xf2b236=_0x42c69b[_0x5c5941(0x142)]('.message-item[data-optimistic=\x22true\x22]');for(let _0x2c74c0=_0xf2b236[_0x5c5941(0x1c5)]-0x1;_0x2c74c0>=0x0;_0x2c74c0--){const _0x1d891a=_0xf2b236[_0x2c74c0];if(_0x5d0b08['id']&&_0x1d891a[_0x5c5941(0x10c)][_0x5c5941(0x19b)]===_0x5d0b08['id']){this[_0x5c5941(0x125)](_0x1d891a,_0x5d0b08['id']);return;}if(_0x5d0b08[_0x5c5941(0x110)]===this['currentUser'][_0x5c5941(0xe3)]){const _0x55234a=_0x1d891a['querySelector']('.message-text'),_0x46a20f=_0x55234a?.['innerText'][_0x5c5941(0x217)]();if(_0x46a20f===(_0x5d0b08[_0x5c5941(0x11c)]||'')[_0x5c5941(0x217)]()){this['finalizeOptimistic'](_0x1d891a,_0x5d0b08['id']);return;}}}if(_0x5d0b08['id'])this[_0x5c5941(0x1d3)][_0x5c5941(0x206)](_0x5d0b08['id']);}const _0x299d59=document[_0x5c5941(0x144)]('div');_0x299d59[_0x5c5941(0x181)]=_0x5c5941(0x237);if(_0x547c14){_0x299d59[_0x5c5941(0x210)][_0x5c5941(0x158)]=_0x5c5941(0x123),_0x299d59[_0x5c5941(0xee)](_0x5c5941(0x145),'true');if(_0x5d0b08['id'])_0x299d59[_0x5c5941(0x10c)]['tempId']=_0x5d0b08['id'];}const _0x1f136d=new Date(_0x5d0b08[_0x5c5941(0x135)])[_0x5c5941(0x187)]([],{'hour':_0x5c5941(0x201),'minute':_0x5c5941(0x201)}),_0x24fb42=await this[_0x5c5941(0x177)](_0x5d0b08[_0x5c5941(0x110)]),_0x4ddaf0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22avatar-wrapper\x22\x20style=\x22width:32px;\x20height:32px;\x20position:relative;\x20flex-shrink:0;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x24fb42[_0x5c5941(0x222)]?_0x5c5941(0x1fd)+_0x24fb42[_0x5c5941(0x222)]+_0x5c5941(0x148):'')+_0x5c5941(0x1d7)+(_0x24fb42[_0x5c5941(0x222)]?'none':_0x5c5941(0x1bb))+_0x5c5941(0x1fa)+_0x5d0b08[_0x5c5941(0x1af)][0x0]+_0x5c5941(0x116);_0x299d59['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4ddaf0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-content-wrapper\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22member-name\x22>'+_0x24fb42[_0x5c5941(0xe6)]+_0x5c5941(0x1f8)+_0x1f136d+_0x5c5941(0x1f9)+(_0x547c14?_0x5c5941(0x18a):'')+_0x5c5941(0x1b3)+_0x5d0b08[_0x5c5941(0x11c)]+_0x5c5941(0x194)+(_0x5d0b08[_0x5c5941(0x1f4)]?'<div\x20class=\x22message-image-content\x22><img\x20src=\x22'+_0x5d0b08['image_url']+_0x5c5941(0xea)+_0x5d0b08[_0x5c5941(0x1f4)]+'\x27)\x22></div>':'')+_0x5c5941(0x196),_0x42c69b['appendChild'](_0x299d59),_0x42c69b['scrollTop']=_0x42c69b[_0x5c5941(0x183)];}catch(_0x202ebb){console[_0x5c5941(0x133)](_0x5c5941(0x1c4),_0x202ebb,_0x5d0b08);}}[a0_0x749b8f(0x125)](_0x885fd4,_0x501a4b){const _0x1bc920=a0_0x749b8f;_0x885fd4[_0x1bc920(0x210)]['opacity']='1',_0x885fd4[_0x1bc920(0x19e)](_0x1bc920(0x145));const _0x1f23f3=_0x885fd4[_0x1bc920(0x20c)](_0x1bc920(0x1d9));if(_0x1f23f3)_0x1f23f3[_0x1bc920(0x168)]();if(_0x501a4b)this[_0x1bc920(0x1d3)][_0x1bc920(0x206)](_0x501a4b);}[a0_0x749b8f(0xe5)](){const _0x309a04=a0_0x749b8f,_0x2d4036=document['getElementById'](_0x309a04(0x105));if(!_0x2d4036)return;const _0x572a61=this[_0x309a04(0x111)][_0x309a04(0x222)]?_0x309a04(0x1fd)+this['currentUser'][_0x309a04(0x222)]+_0x309a04(0x1bc):'<div\x20class=\x22user-avatar\x22\x20style=\x22width:32px;\x20height:32px;\x22>'+this[_0x309a04(0x111)][_0x309a04(0xe6)][0x0]+_0x309a04(0x1d6);_0x2d4036[_0x309a04(0x214)]=_0x309a04(0x1dd)+_0x572a61+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-info-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22member-name\x22\x20style=\x22font-size:0.8rem;\x22>'+this[_0x309a04(0x111)][_0x309a04(0xe6)]+_0x309a04(0x149)+this['currentUser'][_0x309a04(0x20d)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22uid-copy-btn\x22\x20title=\x22UID\x20Î≥µÏÇ¨\x22\x20data-uid=\x22'+this[_0x309a04(0x111)]['uid']+'\x22>üìã</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';const _0x656188=_0x2d4036[_0x309a04(0x20c)](_0x309a04(0x103));_0x656188&&(_0x656188[_0x309a04(0x169)]=_0x2939e2=>{const _0x41e393=_0x309a04;_0x2939e2[_0x41e393(0x1e2)]();const _0xf07bc0=_0x656188[_0x41e393(0x10c)][_0x41e393(0x20d)];navigator[_0x41e393(0x218)][_0x41e393(0x226)](_0xf07bc0)[_0x41e393(0x198)](()=>{const _0x56fbd6=_0x41e393,_0x1f303a=_0x656188[_0x56fbd6(0x18d)];_0x656188[_0x56fbd6(0x18d)]='‚úÖ',setTimeout(()=>_0x656188[_0x56fbd6(0x18d)]=_0x1f303a,0x5dc);});});}[a0_0x749b8f(0x156)](){const _0x9f8777=a0_0x749b8f,_0x4610c2=(_0xa35431,_0x4c0c57,_0x5aa0bb)=>{const _0xd1f0e8=a0_0x3bff,_0x5f01ca=typeof _0xa35431===_0xd1f0e8(0xfd)?document[_0xd1f0e8(0x1cb)](_0xa35431):_0xa35431;if(_0x5f01ca)_0x5f01ca[_0x4c0c57]=_0x5aa0bb;},_0x414385=document[_0x9f8777(0x1cb)](_0x9f8777(0x1df)),_0x5364a3=document[_0x9f8777(0x1cb)](_0x9f8777(0x21e));_0x4610c2(_0x9f8777(0x21e),'onclick',()=>this[_0x9f8777(0x124)]());_0x414385&&(_0x414385[_0x9f8777(0x175)]=_0x75aeaa=>{const _0x40ce9f=_0x9f8777;_0x75aeaa['key']===_0x40ce9f(0x130)&&!_0x75aeaa[_0x40ce9f(0x231)]&&(_0x75aeaa[_0x40ce9f(0x180)](),this[_0x40ce9f(0x124)]());},_0x414385[_0x9f8777(0x109)]=()=>{const _0x314bf7=_0x9f8777;_0x414385[_0x314bf7(0x210)][_0x314bf7(0xe7)]='auto',_0x414385[_0x314bf7(0x210)][_0x314bf7(0xe7)]=_0x414385['scrollHeight']+'px';});_0x4610c2(_0x9f8777(0x105),'onclick',()=>{const _0xc51245=_0x9f8777,_0x5371e9=document[_0xc51245(0x1cb)](_0xc51245(0x1b1)),_0x4d0ed0=document['getElementById'](_0xc51245(0x1a0));if(_0x5371e9)_0x5371e9[_0xc51245(0x154)]=this['currentUser'][_0xc51245(0xe6)];if(_0x4d0ed0)_0x4d0ed0[_0xc51245(0x154)]=this['currentUser'][_0xc51245(0x222)]||'';const _0x25d5f7=document[_0xc51245(0x1cb)]('profile-modal');if(_0x25d5f7)_0x25d5f7[_0xc51245(0x210)][_0xc51245(0x173)]=_0xc51245(0x1bb);}),_0x4610c2(_0x9f8777(0xf7),_0x9f8777(0x169),()=>{const _0x4539e7=_0x9f8777,_0x4918ce=document[_0x4539e7(0x1cb)](_0x4539e7(0x1f6));if(_0x4918ce)_0x4918ce[_0x4539e7(0x210)][_0x4539e7(0x173)]=_0x4539e7(0x15d);}),document[_0x9f8777(0x1cb)](_0x9f8777(0xf0))['onsubmit']=async _0xf21b12=>{const _0x5648e5=_0x9f8777;_0xf21b12[_0x5648e5(0x180)]();const _0x29e0cf=document['getElementById'](_0x5648e5(0x1b1))[_0x5648e5(0x154)],_0x3d2c64=document['getElementById']('edit-avatar-url')[_0x5648e5(0x154)];await this['updateProfile'](_0x29e0cf,_0x3d2c64)&&(document[_0x5648e5(0x1cb)](_0x5648e5(0x1f6))[_0x5648e5(0x210)][_0x5648e5(0x173)]=_0x5648e5(0x15d),location[_0x5648e5(0x147)]());};const _0x59aea2=document['getElementById'](_0x9f8777(0x20e)),_0x18b22b=document[_0x9f8777(0x1cb)](_0x9f8777(0x1ed));_0x59aea2[_0x9f8777(0x169)]=_0x25cdde=>{const _0x129e82=_0x9f8777;_0x25cdde['stopPropagation'](),_0x18b22b[_0x129e82(0x210)]['display']=_0x18b22b[_0x129e82(0x210)]['display']===_0x129e82(0x15d)?_0x129e82(0x107):_0x129e82(0x15d);},document['addEventListener'](_0x9f8777(0x14d),()=>{const _0x327862=_0x9f8777;_0x18b22b[_0x327862(0x210)][_0x327862(0x173)]='none';}),_0x18b22b[_0x9f8777(0x142)](_0x9f8777(0x235))[_0x9f8777(0x1ad)](_0x58c1df=>{const _0x21d8e8=_0x9f8777;_0x58c1df[_0x21d8e8(0x169)]=_0x31b473=>{const _0x154129=_0x21d8e8;_0x414385['value']+=_0x58c1df[_0x154129(0x18d)],_0x414385[_0x154129(0x170)]();};});const _0x54e3e4=document[_0x9f8777(0x20c)](_0x9f8777(0x234)),_0x23cd67=document[_0x9f8777(0x20c)](_0x9f8777(0x128)),_0x4fe75f=document[_0x9f8777(0x20c)]('.anticode-chat-area'),_0x220bcb=document[_0x9f8777(0x1cb)](_0x9f8777(0x164)),_0x3430d3=_0x2aa553=>{const _0x3efea8=_0x9f8777;if(_0x54e3e4){if(typeof _0x2aa553===_0x3efea8(0x1b8))_0x54e3e4['classList'][_0x3efea8(0x233)](_0x3efea8(0x1b7),_0x2aa553);else _0x54e3e4[_0x3efea8(0x1c7)][_0x3efea8(0x233)]('open');}if(_0x23cd67)_0x23cd67[_0x3efea8(0x1c7)]['remove'](_0x3efea8(0x1b7));if(_0x220bcb)_0x220bcb[_0x3efea8(0x210)][_0x3efea8(0x173)]=_0x3efea8(0x15d);},_0x44c180=_0x4f8022=>{const _0x131cd1=_0x9f8777;if(_0x23cd67){if(typeof _0x4f8022===_0x131cd1(0x1b8))_0x23cd67['classList'][_0x131cd1(0x233)](_0x131cd1(0x1b7),_0x4f8022);else _0x23cd67[_0x131cd1(0x1c7)][_0x131cd1(0x233)](_0x131cd1(0x1b7));}if(_0x54e3e4)_0x54e3e4[_0x131cd1(0x1c7)][_0x131cd1(0x168)](_0x131cd1(0x1b7));if(_0x220bcb)_0x220bcb[_0x131cd1(0x210)][_0x131cd1(0x173)]=_0x131cd1(0x15d);};_0x4610c2(_0x9f8777(0x174),_0x9f8777(0x169),_0xbc8bae=>{const _0x2afcf8=_0x9f8777;_0xbc8bae[_0x2afcf8(0x1e2)](),_0x3430d3();}),_0x4610c2('mobile-members-toggle','onclick',_0x49ca34=>{const _0x48272b=_0x9f8777;_0x49ca34[_0x48272b(0x1e2)](),_0x44c180();}),_0x4610c2(_0x9f8777(0x16e),_0x9f8777(0x169),_0x19d186=>{const _0x3da823=_0x9f8777;_0x19d186['stopPropagation']();if(_0x220bcb)_0x220bcb[_0x3da823(0x210)][_0x3da823(0x173)]=_0x220bcb['style']['display']===_0x3da823(0x15d)?_0x3da823(0x1bb):_0x3da823(0x15d);}),_0x4610c2('menu-channels',_0x9f8777(0x169),_0x90c758=>{const _0xb04971=_0x9f8777;_0x90c758[_0xb04971(0x1e2)](),_0x3430d3(!![]);}),_0x4610c2(_0x9f8777(0x16f),_0x9f8777(0x169),_0x2b2efd=>{const _0x7b63f9=_0x9f8777;_0x2b2efd[_0x7b63f9(0x1e2)](),_0x3430d3(!![]);}),_0x4610c2(_0x9f8777(0x192),_0x9f8777(0x169),_0x3a1cb2=>{const _0x151596=_0x9f8777;_0x3a1cb2[_0x151596(0x1e2)](),_0x44c180(!![]);});const _0x189e52=document[_0x9f8777(0x1cb)]('menu-add');_0x189e52&&(this['isAdminMode']?_0x189e52[_0x9f8777(0x169)]=_0x2571cb=>{const _0x203270=_0x9f8777;_0x2571cb['stopPropagation']();if(_0x220bcb)_0x220bcb[_0x203270(0x210)]['display']=_0x203270(0x15d);const _0x53e194=document[_0x203270(0x1cb)](_0x203270(0x209));if(_0x53e194)_0x53e194[_0x203270(0x210)][_0x203270(0x173)]=_0x203270(0x1bb);}:_0x189e52[_0x9f8777(0x210)][_0x9f8777(0x173)]='none');_0x4610c2('menu-profile',_0x9f8777(0x169),_0x14bb9a=>{const _0x4f02b2=_0x9f8777;_0x14bb9a[_0x4f02b2(0x1e2)]();if(_0x220bcb)_0x220bcb[_0x4f02b2(0x210)][_0x4f02b2(0x173)]=_0x4f02b2(0x15d);const _0x27b425=document[_0x4f02b2(0x1cb)](_0x4f02b2(0x1f6));if(_0x27b425)_0x27b425[_0x4f02b2(0x210)][_0x4f02b2(0x173)]=_0x4f02b2(0x1bb);}),document[_0x9f8777(0x1a8)](_0x9f8777(0x14d),()=>{const _0xec8daa=_0x9f8777;if(_0x220bcb)_0x220bcb[_0xec8daa(0x210)][_0xec8daa(0x173)]=_0xec8daa(0x15d);});_0x4fe75f&&(_0x4fe75f['onclick']=()=>{const _0x2a22eb=_0x9f8777;if(_0x54e3e4)_0x54e3e4[_0x2a22eb(0x1c7)][_0x2a22eb(0x168)](_0x2a22eb(0x1b7));if(_0x23cd67)_0x23cd67['classList']['remove'](_0x2a22eb(0x1b7));if(_0x220bcb)_0x220bcb[_0x2a22eb(0x210)]['display']=_0x2a22eb(0x15d);});const _0x568214=document['getElementById'](_0x9f8777(0x209)),_0x1e9d4e=document[_0x9f8777(0x1cb)](_0x9f8777(0x23b)),_0x159197=document[_0x9f8777(0x1cb)](_0x9f8777(0x1c8)),_0xc5b5ae=document[_0x9f8777(0x1cb)](_0x9f8777(0x108)),_0x102217=document[_0x9f8777(0x1cb)](_0x9f8777(0x1e6));_0x102217&&(this[_0x9f8777(0x1ce)]?_0x102217[_0x9f8777(0x169)]=()=>_0x568214&&(_0x568214['style'][_0x9f8777(0x173)]='flex'):_0x102217[_0x9f8777(0x210)][_0x9f8777(0x173)]=_0x9f8777(0x15d));_0x4610c2('close-channel-modal','onclick',()=>_0x568214&&(_0x568214[_0x9f8777(0x210)][_0x9f8777(0x173)]=_0x9f8777(0x15d)));if(_0x1e9d4e&&_0x159197)_0x1e9d4e['onchange']=()=>_0x159197['style'][_0x9f8777(0x173)]=_0x1e9d4e[_0x9f8777(0x154)]===_0x9f8777(0x216)?_0x9f8777(0xec):'none';_0xc5b5ae&&(_0xc5b5ae[_0x9f8777(0x10b)]=async _0x4466af=>{const _0xa06fa=_0x9f8777;_0x4466af['preventDefault']();const _0x270f60=await this[_0xa06fa(0x167)](document[_0xa06fa(0x1cb)](_0xa06fa(0x21d))[_0xa06fa(0x154)],_0x1e9d4e[_0xa06fa(0x154)],document[_0xa06fa(0x1cb)]('new-channel-category')[_0xa06fa(0x154)],document[_0xa06fa(0x1cb)](_0xa06fa(0xe9))[_0xa06fa(0x154)]);_0x270f60&&(_0x568214['style'][_0xa06fa(0x173)]=_0xa06fa(0x15d),_0xc5b5ae[_0xa06fa(0x16a)]());});const _0x35d899=document[_0x9f8777(0x1cb)]('add-friend-modal'),_0x4b2742=document['getElementById']('add-friend-form');_0x4610c2(_0x9f8777(0x15e),_0x9f8777(0x169),()=>_0x35d899&&(_0x35d899[_0x9f8777(0x210)][_0x9f8777(0x173)]='flex')),_0x4610c2('close-friend-modal','onclick',()=>_0x35d899&&(_0x35d899[_0x9f8777(0x210)][_0x9f8777(0x173)]=_0x9f8777(0x15d)));_0x4b2742&&(_0x4b2742[_0x9f8777(0x10b)]=async _0x245500=>{const _0xeb09e9=_0x9f8777;_0x245500[_0xeb09e9(0x180)](),await this[_0xeb09e9(0x221)](document[_0xeb09e9(0x1cb)](_0xeb09e9(0x17d))[_0xeb09e9(0x154)])&&(_0x35d899[_0xeb09e9(0x210)]['display']=_0xeb09e9(0x15d),_0x4b2742[_0xeb09e9(0x16a)]());});const _0xeb3023=document[_0x9f8777(0x1cb)](_0x9f8777(0x1b6));_0x4610c2(_0x9f8777(0x1e5),_0x9f8777(0x169),()=>{const _0x494466=_0x9f8777;_0xeb3023&&(_0xeb3023['style']['display']=_0x494466(0x1bb),this[_0x494466(0x1f3)]());}),_0x4610c2(_0x9f8777(0x1b2),_0x9f8777(0x169),()=>{const _0x12cd1e=_0x9f8777;if(_0xeb3023)_0xeb3023[_0x12cd1e(0x210)]['display']=_0x12cd1e(0x15d);});const _0x1eff99=document[_0x9f8777(0x1cb)](_0x9f8777(0x18c)),_0x43fa70=document[_0x9f8777(0x1cb)](_0x9f8777(0x16c));_0x4610c2(_0x9f8777(0x115),_0x9f8777(0x169),()=>_0x1eff99&&(_0x1eff99[_0x9f8777(0x210)]['display']=_0x9f8777(0x15d)));_0x43fa70&&(_0x43fa70['onsubmit']=async _0x46ddeb=>{const _0x5775bb=_0x9f8777;_0x46ddeb[_0x5775bb(0x180)]();const _0x4a4b6b=this['channels']['find'](_0x21a571=>_0x21a571['id']===this[_0x5775bb(0x13b)]);if(_0x4a4b6b&&_0x4a4b6b[_0x5775bb(0x1b9)]===document[_0x5775bb(0x1cb)](_0x5775bb(0x213))[_0x5775bb(0x154)])_0x1eff99['style'][_0x5775bb(0x173)]=_0x5775bb(0x15d),_0x43fa70[_0x5775bb(0x16a)](),await this['switchChannel'](this['pendingChannelId']);else alert('ÎπÑÎ∞ÄÎ≤àÌò∏Í∞Ä\x20ÌãÄÎ†∏ÏäµÎãàÎã§.');});const _0x278772=document[_0x9f8777(0x1cb)](_0x9f8777(0xeb)),_0x24cd53=document[_0x9f8777(0x1cb)](_0x9f8777(0xef));_0x24cd53&&_0x278772&&(_0x24cd53[_0x9f8777(0x169)]=()=>_0x278772[_0x9f8777(0x14d)](),_0x278772[_0x9f8777(0x1c0)]=async _0x28a332=>{const _0x2f16f8=_0x9f8777,_0x265412=_0x28a332['target'][_0x2f16f8(0x241)][0x0];if(!_0x265412)return;const _0x4bf41f=_0x24cd53[_0x2f16f8(0x182)];_0x24cd53['textContent']=_0x2f16f8(0x16d);try{const _0x17be8e=await this[_0x2f16f8(0x1a2)](_0x265412),_0x455802=_0x2f16f8(0x152)+Date['now'](),_0x3b9354={'id':_0x455802,'channel_id':this[_0x2f16f8(0x10e)]['id'],'user_id':this[_0x2f16f8(0x111)][_0x2f16f8(0xe3)],'author':this[_0x2f16f8(0x111)][_0x2f16f8(0xe6)],'content':'','image_url':_0x17be8e,'created_at':new Date()[_0x2f16f8(0x189)]()};await this['appendMessage'](_0x3b9354,!![]),await this['supabase']['from'](_0x2f16f8(0x117))['insert']([{'channel_id':this['activeChannel']['id'],'user_id':this[_0x2f16f8(0x111)][_0x2f16f8(0xe3)],'author':this['currentUser']['nickname'],'content':'','image_url':_0x17be8e}]);}catch(_0xa973b4){alert(_0x2f16f8(0x1db)+_0xa973b4['message']);}finally{_0x24cd53[_0x2f16f8(0x182)]=_0x4bf41f,_0x278772[_0x2f16f8(0x154)]='';}});const _0x54782b=document[_0x9f8777(0x1cb)](_0x9f8777(0x16b)),_0x4db7e2=document['getElementById']('upload-avatar-btn');_0x4db7e2&&_0x54782b&&(_0x4db7e2[_0x9f8777(0x169)]=()=>_0x54782b[_0x9f8777(0x14d)](),_0x54782b['onchange']=async _0x14fb63=>{const _0x4e632f=_0x9f8777,_0x4ce8bc=_0x14fb63[_0x4e632f(0x1a5)][_0x4e632f(0x241)][0x0];if(!_0x4ce8bc)return;_0x4db7e2[_0x4e632f(0x182)]='ÏóÖÎ°úÎìú\x20Ï§ë...';try{const _0x5a31f4=await this['uploadFile'](_0x4ce8bc);document[_0x4e632f(0x1cb)](_0x4e632f(0x1a0))['value']=_0x5a31f4,alert('ÌîÑÎ°úÌïÑ\x20Ïù¥ÎØ∏ÏßÄÍ∞Ä\x20ÏóÖÎ°úÎìúÎêòÏóàÏäµÎãàÎã§.\x20Ï†ÄÏû•\x20Î≤ÑÌäºÏùÑ\x20ÎàåÎü¨\x20ÌôïÏ†ïÌïòÏÑ∏Ïöî.');}catch(_0x53c756){alert(_0x4e632f(0x1db)+_0x53c756[_0x4e632f(0x22b)]);}finally{_0x4db7e2['textContent']=_0x4e632f(0x11d),_0x54782b[_0x4e632f(0x154)]='';}});}}const app=new AntiCodeApp();window['app']=app,app[a0_0x749b8f(0x20f)]();
## Supabase ?곗씠??2~3以?諛깆뾽 ?댁쁺 媛?대뱶

紐⑺몴: Supabase ?μ븷/?ㅼ닔 ??젣/?쒖꽟?⑥뼱/怨꾩젙 ?댁뒋媛 ?덉뼱??**?곗씠?곕? 蹂듦뎄**?????덇쾶 ?쒕떎以?諛깆뾽?앹쓣 ?댁쁺?⑸땲??

### 諛깆뾽 ?덉씠??沅뚯옣 3以?

#### A) Supabase ?먯껜 諛깆뾽(1李?
- Supabase ?뚮옖/?듭뀡???곕씪 **?먮룞 諛깆뾽/PITR** ?쒓났 ?щ?媛 ?ㅻ쫭?덈떎.
- **諛깆뾽 ?꾩튂**: Supabase ?꾨줈?앺듃 ?대?(??쒕낫?쒖뿉???뺤씤)

#### B) ?몃? DB ?ㅽ봽(2李? ?꾩닔)
- ?뺢린?곸쑝濡?`pg_dump`濡?DB ?ㅽ봽瑜??좎꽌 **Supabase ?몃? ?ㅽ넗由ъ?**??蹂닿??⑸땲??
- **沅뚯옣 ??μ냼(?덉떆)**:
  - Cloudflare R2 (S3 ?명솚)
  - AWS S3
  - Google Cloud Storage
- **諛깆뾽 ?꾩튂(?댁쁺?먭? ?뺥븿)**:
  - ?? `s3://<bucket>/nanodoroshi/supabase/db/<YYYY-MM-DD>/dump.sql.gz`

#### C) ?ㅽ넗由ъ? 踰꾪궥 諛깆뾽(3李? 沅뚯옣)
- Supabase Storage(uploads ??瑜??ъ슜?쒕떎硫? 二쇨린?곸쑝濡??꾩껜 媛앹껜瑜??몃? ?ㅽ넗由ъ?濡?蹂듭젣?⑸땲??
- **諛깆뾽 ?꾩튂(?댁쁺?먭? ?뺥븿)**:
  - ?? `s3://<bucket>/nanodoroshi/supabase/storage/<YYYY-MM-DD>/...`

---

## ?ㅽ뻾 諛⑹떇(沅뚯옣)

### 1) DB ?ㅽ봽 ?먮룞??`scripts/backup/pg_dump_backup.ps1` ?쒗뵆由우쓣 ?ъ슜?⑸땲??

#### ?꾩슂??媛?Secrets濡?愿由?
- `SUPABASE_DB_URL` (Postgres connection string, **?덈? ?꾨줎?몄뿉 ?ｌ? 留?寃?*)
- `BACKUP_BUCKET` / `BACKUP_PREFIX`
- (R2/S3 ?ъ슜 ?? `AWS_ACCESS_KEY_ID`, `AWS_SECRET_ACCESS_KEY`, `AWS_REGION`(?먮뒗 R2 endpoint)

### 2) 蹂닿? ?뺤콉(?덉떆)
- ?쇨컙 14媛?蹂닿?
- 二쇨컙 8媛?蹂닿?
- ?붽컙 12媛?蹂닿?

---

## 蹂듦뎄 由ы뿀??以묒슂)
諛깆뾽? ?쒕뼚?볥뒗 寃꺿앸쭔?쇰줈 ?앹씠 ?꾨떃?덈떎. ??1?뚮뒗:
- ?ㅽ봽 ?뚯씪 ?ㅼ슫濡쒕뱶
- 蹂꾨룄 Postgres??restore ?뚯뒪??- 二쇱슂 ?뚯씠釉?row ??臾닿껐???뺤씤
